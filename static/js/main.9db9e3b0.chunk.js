(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],[,,,,,,,,,,,,,,,function(e,a,t){e.exports={login:"Login_login__wZFJO",login__container:"Login_login__container__2RiFi",login__form:"Login_login__form__1oQF8",login__inputs:"Login_login__inputs__ltC67",login__checkbox:"Login_login__checkbox__3DmST",login__buttons:"Login_login__buttons__vdiUC",loading:"Login_loading__31U9z",checkbox:"Login_checkbox__DfSwd",infoTextRed:"Login_infoTextRed__1QnOh"}},function(e,a,t){e.exports={practice:"Practice_practice__1lW-o",practice__container:"Practice_practice__container__2vbk_",practice__title:"Practice_practice__title__1Pa1D",card:"Practice_card__1fHzN",card__inner:"Practice_card__inner__3I_Qa",card__front:"Practice_card__front__3nePh",card__back:"Practice_card__back__3-eua",card__next_btn:"Practice_card__next_btn__2CDSY",card__text:"Practice_card__text__1Cekt"}},,function(e,a,t){e.exports={restore:"Restore_restore__Qt9OF",restore__container:"Restore_restore__container__DbDYU",restore__form:"Restore_restore__form__1RfxB",restore__inputs:"Restore_restore__inputs__AIHLA",restore__buttons:"Restore_restore__buttons__3URYh",infoTextGreen:"Restore_infoTextGreen__3SE_5",infoTextRed:"Restore_infoTextRed__1H9hi",loading:"Restore_loading__xj32h"}},function(e,a,t){e.exports={newPassword:"NewPassword_newPassword__3DqU1",newPassword__container:"NewPassword_newPassword__container__m-yCZ",newPassword__form:"NewPassword_newPassword__form__2OlrG",newPassword__inputs:"NewPassword_newPassword__inputs__34B_D",newPassword__buttons:"NewPassword_newPassword__buttons__11RvK",infoTextRed:"NewPassword_infoTextRed__3ZAHA",infoTextGreen:"NewPassword_infoTextGreen__1mFv-",loading:"NewPassword_loading__3hwTp"}},,function(e,a,t){e.exports={register:"Register_register__2OoZ1",register__container:"Register_register__container__20Y9Z",register__form:"Register_register__form__tCvBa",register__inputs:"Register_register__inputs__WISn5",register__buttons:"Register_register__buttons__1xdWp",register__error:"Register_register__error__1lW52",register__loading:"Register_register__loading__2Href"}},,,function(e,a,t){e.exports={modal:"Modal_modal__1HKqi",modalContent:"Modal_modalContent__3u9Ne",modalContentActive:"Modal_modalContentActive__3sorC",active:"Modal_active__EvCwF"}},function(e,a,t){e.exports={button:"GeneralBTN_button__313Ge",green:"GeneralBTN_green__S8XQZ",red:"GeneralBTN_red__zHUK5"}},,,function(e,a,t){e.exports={input:"Input_input__2b9yi",input__label:"Input_input__label__1lDak",input__elem:"Input_input__elem__2Zzrh",input__error:"Input_input__error__2PMc0",inputs__error_text:"Input_inputs__error_text__3FrbP"}},function(e,a,t){e.exports={doubleRange:"Slider_doubleRange__FWpuu",rangeNum:"Slider_rangeNum__3-whB",range:"Slider_range__2pAqR",range2:"Slider_range2__1YSEn"}},,function(e,a,t){e.exports={logOut:"Nav_logOut__2whTu",logIn:"Nav_logIn__3jg9I",links:"Nav_links__2xOKb",button:"Nav_button__3ETpC"}},function(e,a,t){e.exports={profile:"Profile_profile__1-5kW",profile__container:"Profile_profile__container__32E_8",profile__title:"Profile_profile__title__184h-",profile__info:"Profile_profile__info__205Db",profile__buttons:"Profile_profile__buttons__ZYrOS"}},function(e,a,t){e.exports={packs:"Packs_packs__4Z6yr",packs__container:"Packs_packs__container__10omq",packs__title:"Packs_packs__title__2-FHM"}},function(e,a,t){e.exports={table:"Table_table__2tyvk",table__loading:"Table_table__loading__qsfzN",table__row_header:"Table_table__row_header__3I7da",table__row_data:"Table_table__row_data__3i-oQ"}},function(e,a,t){e.exports={packs:"Cards_packs__167TP",packs__container:"Cards_packs__container__1nr1B",packs__title:"Cards_packs__title__1LFQ8"}},,,,,,,,function(e,a,t){e.exports={paginator:"Paginator_paginator__2-To7",leftBlock:"Paginator_leftBlock__2JUGx",rightBlock:"Paginator_rightBlock__2ATkU"}},function(e,a,t){e.exports={container:"ColumnSorting_container__zEKkb",up:"ColumnSorting_up__2wXZ2",down:"ColumnSorting_down__204t9"}},function(e,a,t){e.exports={wrap:"PageNotFound_wrap__20qaz",title:"PageNotFound_title__1japc",subtitle:"PageNotFound_subtitle__1u3wU"}},,,function(e,a,t){e.exports={navItem:"NavItem_navItem__3DieS",active:"NavItem_active___rzAL"}},,,,function(e,a,t){e.exports={button:"Button_button__ir3Eb",green:"Button_green__3fh93",red:"Button_red__1bozl"}},,function(e,a,t){e.exports={container:"Preloader_container__2_C5R",ldsFacebook:"Preloader_ldsFacebook__RYldd"}},function(e,a,t){e.exports={uniSearch:"Search_uniSearch__2Iavf",slider:"Search_slider__1Od3x"}},function(e,a,t){e.exports={button:"TableButton_button__imyMp",green:"TableButton_green__3URIo",red:"TableButton_red__2SmU_"}},function(e,a,t){e.exports={closeButton:"OneInputModal_closeButton__3EBwW",inputModal:"OneInputModal_inputModal__30rtM"}},function(e,a,t){e.exports={closeButton:"ThreeInputModal_closeButton__22RAh",inputModal:"ThreeInputModal_inputModal__39AW4"}},,,,,,,,,,,function(e,a,t){e.exports={main:"Main_main__2rISc"}},,,function(e,a,t){e.exports={questionModal:"QuestionModal_questionModal__cV3J1"}},function(e,a,t){e.exports=t.p+"static/media/Pencil-Outline.042251b4.svg"},function(e,a,t){e.exports=t.p+"static/media/Folder-Outline.bbf08363.svg"},function(e,a,t){e.exports=t.p+"static/media/Fitness_Fill.5812c2c9.svg"},function(e,a,t){e.exports=t.p+"static/media/Trash-Outline.d76ce237.svg"},function(e,a,t){e.exports={checkbox:"Checkbox_checkbox__tAs8d"}},,function(e,a,t){e.exports=t(110)},,,,,function(e,a,t){},function(e,a,t){},,,,,,,,,,,,,,,,,,,,,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(37),s=t.n(c),o=(t(84),t(85),t(2)),i=t(9),l=t(48),u=t.n(l),d=function(e){var a=e.path,t=e.title;return r.a.createElement(i.b,{to:a,className:u.a.navItem,activeClassName:u.a.active},t)},m=t(31),p=t.n(m),_=t(22),f=t(52),g=t.n(f),b=r.a.memo((function(e){var a=e.btnType,t=e.btnName,n=Object(_.a)(e,["btnType","btnName"]),c="".concat(g.a.button," ").concat(g.a[a]);return r.a.createElement("button",Object.assign({className:c},n),t)})),h=function(){return r.a.createElement("nav",{className:p.a.logOut},r.a.createElement(d,{path:"/login",title:"Login"}),r.a.createElement(d,{path:"/register",title:"Registration"}))},v=function(e){var a=e.logout;return r.a.createElement("nav",{className:p.a.logIn},r.a.createElement("div",{className:p.a.links},r.a.createElement(d,{path:"/profile",title:"Profile"}),r.a.createElement(d,{path:"/packs",title:"Packs"})),r.a.createElement("div",{className:p.a.button},r.a.createElement(b,{onClick:a,btnName:"Logout",btnType:"red"})))},k=t(1),E=t.n(k),w=t(4),C=t(27),x=t.n(C),P=x.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),y=function(){return P.post("/auth/me")},O=function(e){return P.post("/auth/login",e)},j=function(){return P.delete("/auth/me")},S=function(e){return P.post("/auth/set-new-password",e)},N=function(e){return P.post("/auth/register",e)},T=function(e){return P.post("/auth/forgot",{email:e,from:"admin",message:'<div style="background-color: lime; padding: 15px">\n                    password recovery link: \n                    <a href="https://osbelkz.github.io/cards#/newPassword/$token$"> \n                    link</a>\n                </div>'})},A=t(3),L=Object(A.b)("app/authMe",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.rejectWithValue,e.prev=1,e.next=4,y();case 4:c=e.sent,n(W({userData:c.data})),n(G({isLoggedSuccess:!0})),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),s=e.t0,e.abrupt("return",r(s.response?s.response.data.error:"unknown error"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a,t){return e.apply(this,arguments)}}()),R=Object(A.c)({name:"app",initialState:{error:"",initApp:"idle"},reducers:{setInitApp:function(e,a){e.initApp=a.payload.initApp},setAppError:function(e,a){e.error=a.payload.error}},extraReducers:function(e){e.addCase(L.pending,(function(e,a){e.initApp="loading",e.error=""})).addCase(L.fulfilled,(function(e,a){e.initApp="succeeded"})).addCase(L.rejected,(function(e,a){a.payload&&(e.initApp="failed",e.error=a.payload)}))}}),I=R.actions,V=I.setInitApp,M=I.setAppError,F=Object(A.b)("login/logInUserInApp",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c,s,o,i,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.email,r=a.password,c=a.rememberMe,s=t.rejectWithValue,o=t.dispatch,e.prev=2,e.next=5,O({email:n,password:r,rememberMe:c});case 5:return i=e.sent,o(V({initApp:"succeeded"})),e.abrupt("return",{userData:i.data});case 10:return e.prev=10,e.t0=e.catch(2),setTimeout(o,5e3,U({error:""})),l=e.t0,e.abrupt("return",s(l.response?l.response.data.error:e.t0.message+", more details in the console"));case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a,t){return e.apply(this,arguments)}}()),q=Object(A.b)("login/logoutUserInAppTC",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,(r=t.dispatch)(V({initApp:"loading"})),r(M({error:""})),e.prev=3,e.next=6,j();case 6:r(V({initApp:"succeeded"})),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),r(V({initApp:"failed"})),c=e.t0,e.abrupt("return",n(c.response?c.response.data.error:"unknown error"));case 14:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(a,t){return e.apply(this,arguments)}}()),B=Object(A.c)({name:"login",initialState:{userData:null,isLoading:!1,isLoggedSuccess:!1,error:""},reducers:{setProfileUserData:function(e,a){e.userData=a.payload.userData},setValueIsLoggedSuccess:function(e,a){e.isLoggedSuccess=a.payload.isLoggedSuccess},setErrorText:function(e,a){e.error=a.payload.error}},extraReducers:function(e){e.addCase(F.pending,(function(e,a){e.isLoading=!0,e.error=""})).addCase(F.fulfilled,(function(e,a){e.userData=a.payload.userData,e.isLoggedSuccess=!0,e.isLoading=!1})).addCase(F.rejected,(function(e,a){a.payload&&(e.isLoading=!1,e.error=a.payload)})).addCase(q.fulfilled,(function(e,a){e.userData=null,e.isLoggedSuccess=!1})).addCase(q.rejected,(function(e,a){a.payload&&(e.error=a.payload)}))}}),D=B.actions,G=D.setValueIsLoggedSuccess,W=D.setProfileUserData,U=D.setErrorText,Z=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.login.userData})),t=Object(n.useCallback)((function(){e(q())}),[]);return a?r.a.createElement(v,{logout:t}):r.a.createElement(h,null)},Y=t(69),Q=t.n(Y),z=t(5),H=t(32),J=t.n(H),K=r.a.memo((function(e){var a=e.userData;return r.a.createElement("div",{className:J.a.profile},r.a.createElement("div",{className:J.a.profile__container},r.a.createElement("div",{className:J.a.profile__title},r.a.createElement("h3",null,"Profile page")),r.a.createElement("div",{className:J.a.profile__info},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id:"),r.a.createElement("td",null,a._id)),r.a.createElement("tr",null,r.a.createElement("th",null,"Username:"),r.a.createElement("td",null,a.name)),r.a.createElement("tr",null,r.a.createElement("th",null,"Email:"),r.a.createElement("td",null,a.email)),r.a.createElement("tr",null,r.a.createElement("th",null,"Added:"),r.a.createElement("td",null,a.created)),r.a.createElement("tr",null,r.a.createElement("th",null,"Packs of cards:"),r.a.createElement("td",null,a.publicCardPacksCount)))))))})),$=function(){var e=Object(o.c)((function(e){return e.login.userData}));return e?r.a.createElement(K,{userData:e}):r.a.createElement("div",null)},X=t(15),ee=t.n(X),ae=t(28),te=t.n(ae),ne=r.a.memo((function(e){var a=e.label,t=e.errorCondition,n=e.errorText,c=Object(_.a)(e,["label","errorCondition","errorText"]);return r.a.createElement("div",{className:te.a.input},r.a.createElement("p",{className:te.a.input__label},a),r.a.createElement("input",Object.assign({className:"".concat(te.a.input__elem," ").concat(t?te.a.input__error:"")},c)),t?r.a.createElement("div",{className:te.a.inputs__error_text},n):null)})),re=t(13),ce=r.a.memo((function(e){var a=e.error,t=e.isLoading,n=e.handleOnSubmit,c=(e.isLoggedSuccess,Object(re.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required!",e.password?e.password.length<7&&(a.password="Too short password, min 7 symbols"):a.password="Required!",a},onSubmit:function(e){n(e.email.toLowerCase().trim(),e.password,e.rememberMe)}}));return r.a.createElement("div",{className:ee.a.login},r.a.createElement("div",{className:ee.a.login__container},r.a.createElement("form",{className:ee.a.login__form,onSubmit:c.handleSubmit},r.a.createElement("div",{className:ee.a.login__title},r.a.createElement("h3",null,"Login page")),r.a.createElement("div",{className:ee.a.login__inputs},r.a.createElement(ne,Object.assign({label:"Email",placeholder:"Please, put your email",errorCondition:!!c.errors.email&&c.touched.email,errorText:c.errors.email},c.getFieldProps("email"))),r.a.createElement(ne,Object.assign({label:"Password",type:"password",placeholder:"Please, put your password",errorCondition:!!c.errors.password&&c.touched.password,errorText:c.errors.password},c.getFieldProps("password"))),r.a.createElement("div",{className:ee.a.login__checkbox},r.a.createElement("input",Object.assign({id:"remember",className:ee.a.checkbox,type:"checkbox",checked:c.values.rememberMe},c.getFieldProps("rememberMe"))),r.a.createElement("label",{htmlFor:"remember"},"remember me"))),r.a.createElement("div",{className:ee.a.login__buttons},r.a.createElement(b,{type:"submit",btnName:"Login",disabled:!c.isValid||t||!c.values.email,btnType:"green"}),r.a.createElement(b,{btnName:"Reset",type:"reset",onClick:function(){return c.resetForm()}})),r.a.createElement(d,{path:"/restore",title:"Forgot your password?"}),a&&r.a.createElement("div",{className:ee.a.infoTextRed},a),t&&r.a.createElement("div",{className:ee.a.loading},"...Loading"))))})),se=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.login})),t=a.isLoggedSuccess,c=a.isLoading,s=a.error,i=Object(n.useCallback)((function(a,t,n){e(F({email:a,password:t,rememberMe:n}))}),[]);return t?r.a.createElement(z.a,{to:"/profile"}):r.a.createElement(ce,{isLoading:c,isLoggedSuccess:t,error:s,handleOnSubmit:i})},oe=t(21),ie=t.n(oe),le=r.a.memo((function(e){var a=e.status,t=e.error,n=e.onSubmit,c=Object(re.a)({initialValues:{email:"",password:"",password2:""},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",(!e.password||e.password.length<7)&&(a.password="Must be 7 or more characters"),e.password!==e.password2&&(a.password2="Passwords does not match"),a},onSubmit:function(e){n({email:e.email,password:e.password})}});return r.a.createElement("div",{className:ie.a.register},r.a.createElement("div",{className:ie.a.register__container},r.a.createElement("form",{className:ie.a.register__form,onSubmit:c.handleSubmit},r.a.createElement("div",{className:ie.a.register__title},r.a.createElement("h3",null,"Registration")),r.a.createElement("div",{className:ie.a.register__inputs},r.a.createElement(ne,Object.assign({label:"Email",errorCondition:!!c.errors.email&&c.touched.email,placeholder:"email",errorText:c.errors.email},c.getFieldProps("email"))),r.a.createElement(ne,Object.assign({label:"Password",errorCondition:!!c.errors.password&&c.touched.password,type:"password",placeholder:"password",errorText:c.errors.password},c.getFieldProps("password"))),r.a.createElement(ne,Object.assign({label:"Repeat password",errorCondition:!!c.errors.password2&&c.touched.password2,type:"password",errorText:c.errors.password2,placeholder:"confirm password"},c.getFieldProps("password2")))),r.a.createElement("div",{className:ie.a.register__buttons},r.a.createElement(b,{btnName:"Join",btnType:"green",type:"submit",disabled:!c.isValid||"loading"===a||!c.values.email}),r.a.createElement(b,{btnName:"Reset",type:"reset",onClick:function(){return c.resetForm()}})),r.a.createElement(d,{path:"/login",title:"Login"}),t&&r.a.createElement("div",{className:ie.a.register__error},t),"loading"===a&&r.a.createElement("div",{className:ie.a.register__loading},"...Loading"))))})),ue=Object(A.b)("register/addUser",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,e.prev=1,e.next=4,N(a);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),r=e.t0,e.abrupt("return",n(r.response?r.response.data.error:"unknown error"));case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a,t){return e.apply(this,arguments)}}()),de=Object(A.c)({name:"register",initialState:{error:"",status:"idle"},reducers:{},extraReducers:function(e){e.addCase(ue.pending,(function(e,a){e.status="loading",e.error=""})).addCase(ue.fulfilled,(function(e,a){e.status="succeeded"})).addCase(ue.rejected,(function(e,a){a.payload&&(e.error=a.payload,e.status="failed")}))}}),me=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.register})),t=a.error,c=a.status,s=Object(n.useCallback)((function(a){e(ue(a))}),[]);return"succeeded"===c?r.a.createElement(z.a,{to:"/login"}):r.a.createElement(le,{onSubmit:s,error:t,status:c})},pe=t(18),_e=t.n(pe),fe=r.a.memo((function(e){var a=e.handleOnSubmit,t=e.isLoading,n=e.isSentSuccess,c=e.textAfterRequest,s=Object(re.a)({initialValues:{email:""},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Field is required!",a},onSubmit:function(e){a(e.email)}});return r.a.createElement("div",{className:_e.a.restore},r.a.createElement("div",{className:_e.a.restore__container},r.a.createElement("form",{className:_e.a.restore__form,onSubmit:s.handleSubmit},r.a.createElement("div",{className:_e.a.restore__title},r.a.createElement("h3",null,"Restore password")),r.a.createElement("div",{className:_e.a.restore__inputs},r.a.createElement(ne,Object.assign({label:"Email",placeholder:"Please, put your email",errorCondition:!!s.errors.email&&s.touched.email,errorText:s.errors.email},s.getFieldProps("email")))),r.a.createElement("div",{className:_e.a.restore__buttons},r.a.createElement(b,{type:"submit",btnName:"Send email",disabled:!s.isValid||t||!s.values.email,btnType:"green"}),r.a.createElement(b,{btnName:"Reset",type:"reset",onClick:function(){return s.resetForm()}})),r.a.createElement(d,{path:"/login",title:"Login"}),c&&r.a.createElement("div",{className:n?_e.a.infoTextGreen:_e.a.infoTextRed},c),t&&r.a.createElement("div",{className:_e.a.loading},"...Loading"))))})),ge=Object(A.b)("restore/restoreTC",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,e.prev=1,e.next=4,T(a);case 4:return r=e.sent,e.abrupt("return",r.data.info);case 8:return e.prev=8,e.t0=e.catch(1),c=e.t0,e.abrupt("return",n(c.response.data.error));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}()),be=Object(A.c)({name:"restore",initialState:{isSentSuccess:!1,textAfterRequest:"",isLoading:!1},reducers:{},extraReducers:function(e){e.addCase(ge.pending,(function(e,a){e.isLoading=!0})).addCase(ge.fulfilled,(function(e,a){e.textAfterRequest=a.payload,e.isSentSuccess=!0,e.isLoading=!1})).addCase(ge.rejected,(function(e,a){a.payload&&(e.textAfterRequest=a.payload,e.isLoading=!1)}))}}),he=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.restorePassword})),t=a.textAfterRequest,c=a.isLoading,s=a.isSentSuccess,i=Object(n.useCallback)((function(a){e(ge(a))}),[]);return r.a.createElement(fe,{textAfterRequest:t,isSentSuccess:s,handleOnSubmit:i,isLoading:c})},ve=t(19),ke=t.n(ve),Ee=r.a.memo((function(e){var a=e.isLoading,t=e.handleOnSubmit,n=e.error,c=e.isOk,s=e.isSetNewPassword,o=Object(z.h)().token,i=Object(re.a)({initialValues:{password1:"",password2:""},validate:function(e){var a={};return e.password1?e.password1.length<8&&(a.password1="Too short password, min 8 symbols"):a.password1="Field is required!",e.password2?e.password2.length<8?a.password2="Too short password, min 8 symbols":e.password1!==e.password2&&(a.password2="Both fields must be equal!"):a.password2="Field is required!",a},onSubmit:function(e){t(e.password1,o)}});return r.a.createElement("div",{className:ke.a.newPassword},r.a.createElement("div",{className:ke.a.newPassword__container},r.a.createElement("form",{className:ke.a.newPassword__form,onSubmit:i.handleSubmit},r.a.createElement("div",{className:ke.a.newPassword__title},r.a.createElement("h3",null,"New password page")),r.a.createElement("div",{className:ke.a.newPassword__inputs},r.a.createElement(ne,Object.assign({label:"New password",placeholder:"Please, put new password",errorCondition:!!i.errors.password1&&i.touched.password1,errorText:i.errors.password1},i.getFieldProps("password1"))),r.a.createElement(ne,Object.assign({label:"Repeat new password",placeholder:"Put new password again",errorCondition:!!i.errors.password2&&i.touched.password2,errorText:i.errors.password2},i.getFieldProps("password2")))),r.a.createElement("div",{className:ke.a.newPassword__buttons},r.a.createElement(b,{type:"submit",btnName:"Set new password",disabled:!i.isValid||a,btnType:"green"}),r.a.createElement(b,{btnName:"Reset",type:"reset",onClick:function(){return i.resetForm()}})),r.a.createElement(d,{path:"/login",title:"Login"})),!s&&n?r.a.createElement("div",{className:ke.a.infoTextRed},n):"",s&&c?r.a.createElement("div",{className:ke.a.infoTextGreen},c):"",a&&r.a.createElement("div",{className:ke.a.loading},"...Loading")))})),we=t(41),Ce=Object(A.b)("newPassword/setNewPassword",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c,s,o,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.newPassword,r=a.token,c=t.rejectWithValue,s=t.dispatch,e.prev=2,e.next=5,S({password:n,resetPasswordToken:r});case 5:return o=e.sent,e.abrupt("return",{isOk:o.data.info});case 9:return e.prev=9,e.t0=e.catch(2),setTimeout(s,5e3,xe.actions.setErrorText({error:""})),i=e.t0,e.abrupt("return",c(i.response?i.response.data.error:"unknown error"));case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a,t){return e.apply(this,arguments)}}()),xe=Object(A.c)({name:"newPassword",initialState:{isSetNewPassword:!1,error:"",isOk:"",isLoading:!1},reducers:{setErrorText:function(e,a){e.error=a.payload.error}},extraReducers:function(e){e.addCase(Ce.pending,(function(e,a){e.isLoading=!0})).addCase(Ce.fulfilled,(function(e,a){e.isSetNewPassword=!0,e.isLoading=!1,e.isOk=a.payload.isOk})).addCase(Ce.rejected,(function(e,a){a.payload&&(e.isLoading=!1,e.error=a.payload)}))}});Object(we.a)(xe.actions);var Pe=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.newPassword})),t=a.isSetNewPassword,c=a.isLoading,s=a.error,i=a.isOk,l=Object(n.useCallback)((function(a,t){e(Ce({newPassword:a,token:t}))}),[]);return t?r.a.createElement(z.a,{to:"/login"}):r.a.createElement(Ee,{isSetNewPassword:t,error:s,handleOnSubmit:l,isOk:i,isLoading:c})},ye=t(54),Oe=t.n(ye);function je(){return r.a.createElement("div",{className:Oe.a.container},r.a.createElement("div",{className:Oe.a.ldsFacebook},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}var Se=function(e){var a=Object(o.b)(),t=Object(o.c)((function(e){return e.app.initApp})),c=Object(o.c)((function(e){return e.login.isLoggedSuccess}));return Object(n.useEffect)((function(){"idle"!==t||c||a(L())}),[t,c]),"loading"===t||"idle"===t?r.a.createElement(je,null):c?r.a.createElement("div",null,e.children):r.a.createElement(z.a,{to:"/login"})},Ne=t(33),Te=t.n(Ne),Ae=t(34),Le=t.n(Ae),Re=r.a.memo((function(e){var a=e.model,t=e.data,n=e.disabled;return r.a.createElement("table",{className:"".concat(Le.a.table," ").concat(n?Le.a.table__loading:"")},r.a.createElement("thead",null,r.a.createElement("tr",{className:Le.a.table__row_header},a.map((function(e,a){return e.title(a)})))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{className:Le.a.table__row_data,key:e._id},a.map((function(a,n){return a.render(e,n,t)})))}))))})),Ie=t(7),Ve=t(55),Me=t.n(Ve),Fe=t(29),qe=t.n(Fe),Be=r.a.memo((function(e){var a=e.min/(e.maxValue/100)-2.5,t=e.max/(e.maxValue/100)-2.5;return r.a.createElement("div",{className:qe.a.doubleRange},r.a.createElement("div",null,r.a.createElement("div",{className:qe.a.rangeNum,style:{left:"".concat(a,"%")}},e.min),r.a.createElement("input",{type:"range",min:e.minValue,max:e.maxValue,step:e.stepValue,value:e.min,className:qe.a.range,onChange:function(a){var t=+a.currentTarget.value;e.setMin(t),e.max<=t&&e.setMax(t)},disabled:e.disabled})),r.a.createElement("div",{className:qe.a.rangeNum,style:{left:"".concat(t,"%")}},e.max),r.a.createElement("input",{type:"range",min:e.minValue,max:e.maxValue,step:e.stepValue,value:e.max,className:qe.a.range,onChange:function(a){var t=+a.currentTarget.value;e.setMax(t),e.min>=t&&e.setMin(t)},disabled:e.disabled}))})),De=r.a.memo((function(e){var a=e.name,t=e.minValue,c=e.maxValue,s=e.label,o=e.stepValue,i=e.setSearchParams,l=e.disabled,u=Object(n.useState)(a),d=Object(Ie.a)(u,2),m=d[0],p=d[1],_=Object(n.useState)(t),f=Object(Ie.a)(_,2),g=f[0],h=f[1],v=Object(n.useState)(c),k=Object(Ie.a)(v,2),E=k[0],w=k[1],C=Object(n.useCallback)((function(e){p(e.currentTarget.value)}),[]),x=Object(n.useCallback)((function(){i(m,g,E)}),[m,E,g]);return Object(n.useEffect)((function(){w(c)}),[c]),r.a.createElement("div",{className:Me.a.uniSearch},r.a.createElement("h3",null,s),r.a.createElement(ne,{value:m,onChange:C,disabled:l}),r.a.createElement("div",{className:Me.a.slider},r.a.createElement(Be,{setMin:h,setMax:w,min:g,max:E,minValue:t,maxValue:c,stepValue:o,disabled:l})),r.a.createElement(b,{btnName:"Search",onClick:x,disabled:l}))})),Ge=t(43),We=t.n(Ge),Ue=r.a.memo((function(e){var a=e.currentPage,t=e.pageCount,c=e.changePageCount,s=e.changePage,o=e.itemsName,i=e.itemsTotalCount,l=e.disabled,u=Object(n.useState)(a),d=Object(Ie.a)(u,2),m=d[0],p=d[1],_=Math.ceil(i/t),f=function(){m<1?(s(1),p(1)):m>_?(s(_),p(_)):s(m)};return r.a.createElement("div",{className:We.a.paginator},r.a.createElement("div",{className:We.a.leftBlock},"Total ".concat(o,": ").concat(i,". ").concat(o," per page:"),r.a.createElement("select",{onChange:function(e){var a=+e.currentTarget.value;c(a)},value:t,disabled:l},r.a.createElement("option",null,"10"),r.a.createElement("option",null,"20"),r.a.createElement("option",null,"50"),r.a.createElement("option",null,"100"))),r.a.createElement("div",{className:We.a.rightBlock},r.a.createElement(b,{btnName:"Prev",onClick:function(){s(m-1),p(m-1)},disabled:a<2||l}),"Page: ",m<1,r.a.createElement(ne,{type:"number",value:m,step:1,min:1,max:_,onChange:function(e){p(+e.currentTarget.value)},onBlur:f,onKeyPress:function(e){"Enter"===e.key&&f()},disabled:l}),"of ",_,r.a.createElement(b,{btnName:"Next",onClick:function(){s(m+1),p(m+1)},disabled:a===_||l})))})),Ze=t(44),Ye=t.n(Ze),Qe=r.a.memo((function(e){var a=e.onClick,t=e.pageStatus;return r.a.createElement("div",{className:Ye.a.container},r.a.createElement(b,{btnName:"\u21d1",className:Ye.a.up,onClick:function(){a(1)},disabled:"loading"===t}),r.a.createElement(b,{btnName:"\u21d3",className:Ye.a.down,onClick:function(){a(0)},disabled:"loading"===t}))})),ze=t(42),He=t.n(ze),Je=t(72),Ke=t.n(Je),$e=t(24),Xe=t.n($e),ea=function(e){var a=e.active,t=e.setActive,n=e.children;return r.a.createElement("div",{className:a?"".concat(Xe.a.modal," ").concat(Xe.a.active):Xe.a.modal,onClick:function(){return t(!1)}},r.a.createElement("div",{className:a?"".concat(Xe.a.modalContent," ").concat(Xe.a.modalContentActive):Xe.a.modalContent,onClick:function(e){return e.stopPropagation()}},n))},aa=t(56),ta=t.n(aa),na=r.a.memo((function(e){var a=e.btnType,t=e.btnName,n=Object(_.a)(e,["btnType","btnName"]),c="".concat(ta.a.button," ").concat(ta.a[a]);return r.a.createElement("button",Object.assign({className:c},n),t)})),ra=function(e){var a=e.text,t=e.setAnswerY,n=e.setAnswerN,c=e.active,s=e.setActive;return r.a.createElement("div",{className:Ke.a.questionModal},r.a.createElement(ea,{active:c,setActive:s},a,r.a.createElement(na,{btnName:"Yes",onClick:function(){t(!0),s(!1)},style:{right:"20px"}}),r.a.createElement(na,{btnName:"No",onClick:function(){n(!1),s(!1)},style:{left:"20px"}})))},ca=function(e){var a=e.text,t=e.setAnswerY,n=e.setAnswerN,c=e.activate,s=e.setActivate;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ra,{text:a,setAnswerY:t,setAnswerN:n,active:c,setActive:s}))},sa=t(57),oa=t.n(sa),ia=function(e){var a=e.title,t=e.placeholder,n=e.value,c=e.active,s=e.setActive,o=e.handleOnSubmit,i=Object(re.a)({initialValues:{itemsName:n||""},onSubmit:function(e){o(e.itemsName),s(!1)}});return r.a.createElement(ea,{active:c,setActive:s},r.a.createElement("div",{className:oa.a.closeButton},r.a.createElement(na,{btnName:"X",onClick:function(){return s(!1)}})),r.a.createElement("form",{onSubmit:i.handleSubmit,className:oa.a.inputModal},r.a.createElement("h3",null,a),r.a.createElement("textarea",Object.assign({placeholder:t},i.getFieldProps("itemsName"))),r.a.createElement("div",null,r.a.createElement(b,{btnName:"Save",btnType:"green",type:"submit"}),r.a.createElement(b,{type:"reset",btnName:"Reset",style:{marginLeft:"10px"},onClick:function(){return i.setValues({itemsName:""})}}))))},la=t(73),ua=t.n(la),da=t(74),ma=t.n(da),pa=t(75),_a=t.n(pa),fa=t(76),ga=t.n(fa),ba=t(25),ha=t.n(ba),va=r.a.memo((function(e){var a=e.btnType,t=Object(_.a)(e,["btnType"]),n="",c="";switch(a){case"edit":n=ua.a,c="".concat(ha.a.button);break;case"open":n=ma.a,c="".concat(ha.a.button);break;case"train":n=_a.a,c="".concat(ha.a.button," ").concat(ha.a.green);break;case"remove":n=ga.a,c="".concat(ha.a.button," ").concat(ha.a.red)}return r.a.createElement("button",Object.assign({className:c},t),r.a.createElement("img",{src:n,alt:""}))})),ka=r.a.memo((function(e){var a=e.updatePack,t=e.choosePack,c=e.startLearn,s=e.deletePack,o=e.owner,i=e.pageStatus,l=e.pack,u=Object(n.useState)(!1),d=Object(Ie.a)(u,2),m=d[0],p=d[1],_=Object(n.useState)(!1),f=Object(Ie.a)(_,2),g=f[0],b=f[1],h=l._id,v=l.cardsCount,k=l.user_id,E=l.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement(va,{btnType:"edit",onClick:function(){return p(!0)},disabled:!o||"loading"===i}),r.a.createElement(va,{btnType:"open",onClick:function(){return t(h,k)},disabled:"loading"===i}),r.a.createElement(va,{btnType:"train",onClick:function(){return c(h,k)},disabled:"loading"===i||0===v}),r.a.createElement(va,{btnType:"remove",onClick:function(){return b(!0)},disabled:!o||"loading"===i}),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ia,{value:E,placeholder:"pack's name",title:"Edit pack's name",active:m,setActive:p,handleOnSubmit:function(e){return a(e,h)}}),r.a.createElement(ca,{text:"Delete this pack?",activate:g,setActivate:b,setAnswerY:function(){return s(h)},setAnswerN:function(){}})))})),Ea=r.a.memo((function(e){var a=e.createPack,t=e.pageStatus,c=Object(n.useState)(!1),s=Object(Ie.a)(c,2),o=s[0],i=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(na,{btnName:"+",btnType:"green",onClick:function(){return i(!0)},disabled:"loading"===t}),r.a.createElement(ia,{title:"Create pack",placeholder:"please type a pack name",active:o,setActive:i,handleOnSubmit:a}))})),wa=t(77),Ca=t.n(wa),xa=r.a.memo((function(e){var a=e.disabled,t=e.onChange,n=e.title,c=e.checked;return r.a.createElement("div",null,r.a.createElement("input",{className:Ca.a.checkbox,type:"checkbox",id:"customCheckbox",name:"customCheckbox",onChange:function(e){t(e.currentTarget.checked)},disabled:a,checked:c}),r.a.createElement("label",{htmlFor:"customCheckbox"},r.a.createElement("h4",null,n)))})),Pa=r.a.memo((function(e){var a=e.packs,t=e.userId,c=e.page,s=e.setPacksSortColumn,o=e.pageCount,i=e.cardPacksTotalCount,l=e.createPack,u=e.deletePack,d=e.updatePack,m=e.changePage,p=e.choosePack,_=e.changePageCount,f=e.setSearchParams,g=e.pageStatus,b=e.min,h=e.max,v=e.searchParams,k=v.packName,E=v.user_id,w=e.startLearn,C=e.setGettingMyPacks,x=Object(n.useCallback)((function(e){return s(e+"cardsCount")}),[]),P=Object(n.useMemo)((function(){return[{title:function(e){return r.a.createElement("th",{style:{width:"30%",paddingLeft:"20px"},key:e},r.a.createElement("div",{style:{whiteSpace:"pre"}},"Name"))},render:function(e,a){return r.a.createElement("td",{style:{width:"30%",paddingLeft:"20px"},key:a},e.name)}},{title:function(e){return r.a.createElement("th",{style:{width:"15%"},key:e},r.a.createElement("div",null,"Added"))},render:function(e,a){return r.a.createElement("td",{style:{width:"15%"},key:a},He()(e.created).format("Do MMM YY"))}},{title:function(e){return r.a.createElement("th",{style:{width:"10%",display:"flex",alignItems:"center"},key:e},r.a.createElement("div",null,"Cards count"),r.a.createElement(Qe,{onClick:x,pageStatus:g}))},render:function(e,a){return r.a.createElement("td",{style:{width:"10%"},key:a},e.cardsCount)}},{title:function(e){return r.a.createElement("th",{style:{width:"25%"},key:e},"Owner")},render:function(e,a){return r.a.createElement("td",{style:{width:"25%"},key:a},e.user_name)}},{title:function(e){return r.a.createElement("th",{style:{width:"15%",paddingRight:"20px",textAlign:"right"},key:e},r.a.createElement(Ea,{createPack:l,pageStatus:g}))},render:function(e,a){return r.a.createElement("td",{style:{width:"15%",textAlign:"right",minHeight:"100%",display:"flex"},key:a},r.a.createElement(ka,{updatePack:d,choosePack:p,startLearn:w,deletePack:u,owner:t===e.user_id,pack:e,pageStatus:g}))}}]}),[g]);return r.a.createElement("div",{className:Te.a.packs},r.a.createElement("div",{className:Te.a.packs__container},r.a.createElement("div",{className:Te.a.packs__title},r.a.createElement("h3",null,"Packs")),r.a.createElement("div",{className:Te.a.packs__body},r.a.createElement(xa,{onChange:C,title:"show only my packs",checked:!!E,disabled:"loading"===g}),r.a.createElement(De,{name:k,label:"Search",minValue:b,maxValue:h,stepValue:1,disabled:"loading"===e.pageStatus,setSearchParams:f}),r.a.createElement(Re,{data:a,model:P,disabled:"loading"===e.pageStatus}),r.a.createElement(Ue,{currentPage:c,itemsTotalCount:i,pageCount:o,changePage:m,changePageCount:_,disabled:"loading"===e.pageStatus,itemsName:"packs"}))))})),ya=x.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),Oa=function(e){return ya.get("/cards/pack",{params:e})},ja=function(e){return ya.post("/cards/pack",{cardsPack:e})},Sa=function(e){return ya.delete("cards/pack",{params:{id:e}})},Na=function(e){return ya.put("/cards/pack",{cardsPack:e})},Ta=Object(A.b)("packs/getPacks",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c,s,o,i,l,u,d,m,p,_,f,g,b,h,v,k;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.rejectWithValue,c=n().packs,s=c.page,o=c.pageCount,i=c.searchParams,l=i.packName,u=i.min,d=i.max,m=i.sortPacks,p=i.user_id,e.prev=2,e.next=5,Oa({page:a||s,pageCount:o,packName:l,min:u,max:d,sortPacks:m,user_id:p});case 5:return _=e.sent,f=_.data,g=f.cardPacks,b=f.maxCardsCount,h=f.minCardsCount,v=f.cardPacksTotalCount,e.abrupt("return",{packs:g,min:h,max:b,cardPacksTotalCount:v,page:a});case 10:return e.prev=10,e.t0=e.catch(2),k=e.t0,e.abrupt("return",r(k.response?k.response.data.error:"unknown error"));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a,t){return e.apply(this,arguments)}}()),Aa=Object(A.b)("packs/deletePack",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,r=t.dispatch,e.prev=1,e.next=4,Sa(a);case 4:return e.next=6,r(Ta());case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),c=e.t0,e.abrupt("return",n(c.response?c.response.data.error:"unknown error"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}()),La=Object(A.b)("packs/createPack",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,r=t.dispatch,e.prev=1,e.next=4,ja({name:a});case 4:return e.next=6,r(Ta(1));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),c=e.t0,e.abrupt("return",n(c.response?c.response.data.error:"unknown error"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}()),Ra=Object(A.b)("packs/updatePack",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.name,r=a._id,c=t.rejectWithValue,e.prev=2,e.next=5,Na({name:n,_id:r});case 5:return e.abrupt("return",{name:n,_id:r});case 8:return e.prev=8,e.t0=e.catch(2),s=e.t0,e.abrupt("return",c(s.response?s.response.data.error:"unknown error"));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a,t){return e.apply(this,arguments)}}()),Ia=Object(A.c)({name:"packs",initialState:{packs:[],getMyPacks:!1,cardPacksTotalCount:0,page:1,pageCount:10,min:0,max:0,pageStatus:"idle",searchParams:{packName:"",sortPacks:"",min:0,max:0,user_id:""},errorText:""},reducers:{changePagePacks:function(e,a){e.page=a.payload.page},changePageCountPacks:function(e,a){e.pageCount=a.payload.pageCount},setSearchParams:function(e,a){var t=a.payload,n=t.packName,r=t.max,c=t.min;e.searchParams.packName=n,e.searchParams.min=c,e.searchParams.max=r},setPacksSortColumn:function(e,a){e.searchParams.sortPacks=a.payload.sortPacks},setUserIdAC:function(e,a){e.searchParams.user_id=a.payload.user_id}},extraReducers:function(e){e.addCase(Ta.pending,(function(e){e.pageStatus="loading"})).addCase(Ta.fulfilled,(function(e,a){var t=a.payload,n=t.packs,r=t.cardPacksTotalCount,c=t.page,s=t.min,o=t.max;e.packs=n,e.min=s,e.max=o,e.cardPacksTotalCount=r,c&&(e.page=c),e.pageStatus="succeeded"})).addCase(Ta.rejected,(function(e,a){a.payload&&(e.errorText=a.payload,e.pageStatus="failed")})).addCase(Aa.pending,(function(e){e.pageStatus="loading"})).addCase(Aa.fulfilled,(function(e){e.pageStatus="succeeded"})).addCase(Aa.rejected,(function(e,a){a.payload&&(e.errorText=a.payload,e.pageStatus="failed")})).addCase(La.pending,(function(e){e.pageStatus="loading"})).addCase(La.fulfilled,(function(e){e.pageStatus="succeeded"})).addCase(La.rejected,(function(e,a){a.payload&&(e.errorText=a.payload,e.pageStatus="failed")})).addCase(Ra.pending,(function(e){e.pageStatus="loading"})).addCase(Ra.fulfilled,(function(e,a){var t=e.packs.find((function(e){return e._id===a.payload._id}));t&&(t.name=a.payload.name,e.page=1,e.pageStatus="succeeded")})).addCase(Ra.rejected,(function(e,a){a.payload&&(e.errorText=a.payload,e.pageStatus="failed")}))}}),Va=Ia.actions,Ma=Va.setSearchParams,Fa=Va.setPacksSortColumn,qa=Va.changePageCountPacks,Ba=Va.changePagePacks,Da=Va.setUserIdAC,Ga=t(8);function Wa(e){var a=Object(o.b)();return Object(n.useMemo)((function(){return Object(Ga.b)(e,a)}),[])}var Ua=r.a.memo((function(){var e=Object(z.g)(),a=Object(o.b)(),t=Object(o.c)((function(e){return e.packs})),c=t.packs,s=t.min,i=t.max,l=t.page,u=t.pageCount,d=t.cardPacksTotalCount,m=t.pageStatus,p=t.searchParams,_=t.getMyPacks,f=Object(o.c)((function(e){var a;return null===(a=e.login.userData)||void 0===a?void 0:a._id})),g=Wa(Ia.actions);Object(we.a)(g);var b=Object(n.useCallback)((function(e){a(Aa(e))}),[]),h=Object(n.useCallback)((function(e){a(La(e))}),[]),v=Object(n.useCallback)((function(e,t){a(Ra({name:e,_id:t}))}),[]),k=Object(n.useCallback)((function(e){a(Ba({page:e}))}),[]),E=Object(n.useCallback)((function(e){a(qa({pageCount:e}))}),[]),w=Object(n.useCallback)((function(e,t,n){a(Ma({packName:e,min:t,max:n}))}),[]),C=Object(n.useCallback)((function(e){a(Fa({sortPacks:e}))}),[]),x=Object(n.useCallback)((function(a){e.push("/cards/".concat(a))}),[]),P=Object(n.useCallback)((function(a){e.push("/learn/".concat(a))}),[]);return Object(n.useEffect)((function(){a(Ta())}),[l,u,p,_]),c&&"idle"!==m?r.a.createElement(Pa,{packs:c,userId:f,page:l,min:s,max:i,pageCount:u,searchParams:p,cardPacksTotalCount:d,createPack:h,deletePack:b,updatePack:v,changePage:k,choosePack:x,startLearn:P,setPacksSortColumn:C,changePageCount:E,setSearchParams:w,pageStatus:m,setGettingMyPacks:function(e){a(Da(e?{user_id:f}:{user_id:""}))}}):r.a.createElement(je,null)})),Za=t(35),Ya=t.n(Za),Qa=t(58),za=t.n(Qa),Ha=function(e){var a=e.title,t=e.firstInputValue,n=e.secondInputValue,c=e.thirdInputValue,s=e.active,o=e.setActive,i=e.handleOnSubmit;console.log(t,n,c);var l=Object(re.a)({initialValues:{question:t||"",answer:n||"",comment:c||""},onSubmit:function(e,a){var t=a.resetForm;i(e.question,e.answer,e.comment),t(),o(!1)}});return r.a.createElement(ea,{active:s,setActive:o},r.a.createElement("div",{className:za.a.closeButton},r.a.createElement(na,{btnName:"X",onClick:function(){return o(!1)}})),r.a.createElement("form",{onSubmit:l.handleSubmit,className:za.a.inputModal},r.a.createElement("h3",null,a),r.a.createElement("textarea",Object.assign({placeholder:"question"},l.getFieldProps("question"))),r.a.createElement("textarea",Object.assign({placeholder:"answer"},l.getFieldProps("answer"))),r.a.createElement("textarea",Object.assign({placeholder:"comment"},l.getFieldProps("comment"))),r.a.createElement("div",null,r.a.createElement(b,{btnName:"Save",btnType:"green",type:"submit"}),r.a.createElement(b,{btnName:"Reset",type:"reset",style:{marginLeft:"10px"},onClick:function(){return l.setValues({question:"",answer:"",comment:""})}}))))},Ja=r.a.memo((function(e){var a=e.deleteCard,t=e.updateCard,c=e.owner,s=e.pageStatus,o=e.card,i=Object(n.useState)(!1),l=Object(Ie.a)(i,2),u=l[0],d=l[1],m=Object(n.useState)(!1),p=Object(Ie.a)(m,2),_=p[0],f=p[1],g=o._id,b=o.question,h=o.answer,v=o.comments;return r.a.createElement(r.a.Fragment,null,r.a.createElement(va,{btnType:"edit",onClick:function(){return f(!0)},disabled:!c||"loading"===s}),r.a.createElement(va,{btnType:"remove",onClick:function(){return d(!0)},disabled:!c||"loading"===s}),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ca,{text:"Delete this card?",activate:u,setActivate:d,setAnswerY:function(){return a(g)},setAnswerN:function(){}}),r.a.createElement(Ha,{title:"Edit card",handleOnSubmit:function(e,a,n){return t(g,e,a)},setActive:f,firstInputValue:b,secondInputValue:h,thirdInputValue:v,active:_})))})),Ka=function(e){var a=e.createCard,t=e.pageStatus,c=e.owner,s=Object(n.useState)(!1),o=Object(Ie.a)(s,2),i=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(na,{btnName:"+",btnType:"green",onClick:function(){return l(!0)},disabled:!c||"loading"===t}),c&&r.a.createElement(Ha,{title:"Create card",handleOnSubmit:a,setActive:l,active:i}))},$a=r.a.memo((function(e){var a=e.cards,t=e.page,c=e.owner,s=e.setSortColumn,o=e.pageCount,i=e.cardsTotalCount,l=e.createCard,u=e.deleteCard,d=e.updateCard,m=e.changePage,p=e.changePageCount,_=e.setSearchParams,f=e.pageStatus,g=e.min,b=e.max,h=e.searchParams.cardQuestion,v=Object(n.useCallback)((function(e){return s(e+"grade")}),[]),k=Object(n.useMemo)((function(){return[{title:function(e){return r.a.createElement("th",{style:{width:"30%",paddingLeft:"20px"},key:e},r.a.createElement("span",null,"Question"))},render:function(e,a){return r.a.createElement("td",{style:{width:"30%",paddingLeft:"20px"},key:a},r.a.createElement("div",{style:{whiteSpace:"pre-wrap"}},e.question))}},{title:function(e){return r.a.createElement("th",{style:{width:"30%"},key:e},"Answer")},render:function(e,a){return r.a.createElement("td",{style:{width:"30%"},key:a},r.a.createElement("div",{style:{whiteSpace:"pre-wrap"}},e.answer))}},{title:function(e){return r.a.createElement("th",{style:{width:"15%"},key:e},r.a.createElement("span",null,"Added"))},render:function(e,a){return r.a.createElement("td",{style:{width:"15%"},key:a},He()(e.created).format("Do MMM YY"))}},{title:function(e){return r.a.createElement("th",{style:{width:"15%",display:"flex",alignItems:"center"},key:e},r.a.createElement("div",null,"Grade"),r.a.createElement(Qe,{onClick:v,pageStatus:f}))},render:function(e,a){return r.a.createElement("td",{style:{width:"15%"},key:a},e.grade.toFixed(2))}},{title:function(e){return r.a.createElement("th",{style:{width:"10%",paddingRight:"20px",textAlign:"right"},key:e},r.a.createElement(Ka,{createCard:l,pageStatus:f,owner:c}))},render:function(e,a){return r.a.createElement("td",{style:{width:"15%",textAlign:"right",minHeight:"100%",display:"flex"},key:a},r.a.createElement(Ja,{deleteCard:u,updateCard:d,owner:c,pageStatus:f,card:e}))}}]}),[f,c]);return r.a.createElement("div",{className:Ya.a.packs},r.a.createElement("div",{className:Ya.a.packs__container},r.a.createElement("div",{className:Ya.a.packs__title},r.a.createElement("h3",null,"Cards")),r.a.createElement("div",{className:Ya.a.packs__body},r.a.createElement(De,{name:h,label:"Search",minValue:g,maxValue:b,stepValue:1,disabled:"loading"===e.pageStatus,setSearchParams:_}),r.a.createElement(Re,{data:a,model:k,disabled:"loading"===e.pageStatus}),r.a.createElement(Ue,{currentPage:t,itemsTotalCount:i,pageCount:o,changePage:m,changePageCount:p,disabled:"loading"===e.pageStatus,itemsName:"cards"}))))})),Xa=t(78),et=x.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),at=function(e){return et.get("/cards/card",{params:e})},tt=function(e){return et.post("/cards/card",{card:e})},nt=function(e){return et.delete("/cards/card",{params:{id:e}})},rt=function(e){return et.put("/cards/card",{card:e})},ct=function(e){return et.put("/cards/grade",e)},st=Object(A.b)("cards/getCards",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c,s,o,i,l,u,d,m,p,_,f;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,r=t.getState,c=r().cards,s=c.cardsPack_id,o=c.page,i=c.pageCount,l=c.searchParams,u=l.cardQuestion,d=l.min,m=l.max,p=l.sortCards,e.prev=2,e.next=5,at({cardsPack_id:s,page:a.selectedPage||o,pageCount:i,cardQuestion:u,min:d,max:m,sortCards:p});case 5:return _=e.sent,e.abrupt("return",{cards:_.data.cards,cardsTotalCount:_.data.cardsTotalCount,minGrade:_.data.minGrade,maxGrade:_.data.maxGrade,pageStatus:"succeeded",packUserId:_.data.packUserId,page:a.selectedPage||1});case 9:return e.prev=9,e.t0=e.catch(2),f=e.t0,e.abrupt("return",n(f.response?f.response.data.error:"unknown error"));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a,t){return e.apply(this,arguments)}}()),ot=Object(A.b)("cards/deleteCardTC",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,r=t.dispatch,e.prev=1,e.next=4,nt(a);case 4:r(st({})),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),c=e.t0,e.abrupt("return",n(c.response?c.response.data.error:"unknown error"));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a,t){return e.apply(this,arguments)}}()),it=Object(A.b)("cards/createCardTC",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c,s,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,r=t.getState,c=t.dispatch,s=r().cards.cardsPack_id,e.prev=2,e.next=5,tt(Object(Xa.a)({},a,{cardsPack_id:s}));case 5:c(st({selectedPage:1})),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),o=e.t0,e.abrupt("return",n(o.response?o.response.data.error:"unknown error"));case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a,t){return e.apply(this,arguments)}}()),lt=Object(A.b)("cards/updateCardTC",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,r=t.dispatch,e.prev=1,e.next=4,rt(a);case 4:r(st({selectedPage:1})),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),c=e.t0,e.abrupt("return",n(c.response?c.response.data.error:"unknown error"));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a,t){return e.apply(this,arguments)}}()),ut=Object(A.c)({name:"cards",initialState:{cardsPack_id:"",cardsOwner:"",cards:[],cardsTotalCount:0,page:1,pageCount:10,minGrade:0,maxGrade:0,pageStatus:"idle",searchParams:{cardQuestion:"",cardAnswer:"",sortCards:"",min:0,max:0},errorText:""},reducers:{setPack:function(e,a){var t=a.payload.cardsPack_id;e.cardsPack_id=t},changeCardsPage:function(e,a){e.page=a.payload.page},changeCardsPageCount:function(e,a){e.pageCount=a.payload.pageCount},setCardsSearchParams:function(e,a){var t=a.payload,n=t.cardQuestion,r=t.min,c=t.max;e.searchParams.cardQuestion=n,e.searchParams.min=r,e.searchParams.max=c},setCardsSortColumnParams:function(e,a){e.searchParams.sortCards=a.payload.sortCards,console.log(e.searchParams.sortCards)}},extraReducers:function(e){e.addCase(st.pending,(function(e,a){e.pageStatus="loading"})).addCase(st.fulfilled,(function(e,a){e.cards=a.payload.cards,e.cardsTotalCount=a.payload.cardsTotalCount,e.minGrade=a.payload.minGrade,e.maxGrade=a.payload.maxGrade,e.pageStatus=a.payload.pageStatus,e.page=a.payload.page,e.cardsOwner=a.payload.packUserId})).addCase(st.rejected,(function(e,a){a.payload&&(e.pageStatus="failed",e.errorText=a.payload)})).addCase(ot.pending,(function(e,a){e.pageStatus="loading"})).addCase(ot.fulfilled,(function(e,a){e.pageStatus="succeeded"})).addCase(ot.rejected,(function(e,a){a.payload&&(e.pageStatus="failed",e.errorText=a.payload)})).addCase(it.pending,(function(e,a){e.pageStatus="loading"})).addCase(it.fulfilled,(function(e,a){e.pageStatus="succeeded"})).addCase(it.rejected,(function(e,a){a.payload&&(e.pageStatus="failed",e.errorText=a.payload)})).addCase(lt.pending,(function(e,a){e.pageStatus="loading"})).addCase(lt.fulfilled,(function(e,a){e.pageStatus="succeeded"})).addCase(lt.rejected,(function(e,a){a.payload&&(e.pageStatus="failed",e.errorText=a.payload)}))}}),dt=ut.actions,mt=dt.setPack,pt=dt.changeCardsPage,_t=dt.changeCardsPageCount,ft=dt.setCardsSearchParams,gt=dt.setCardsSortColumnParams,bt=r.a.memo((function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.cards})),t=a.cards,c=a.cardsOwner,s=a.cardsPack_id,i=a.minGrade,l=a.maxGrade,u=a.page,d=a.pageCount,m=a.cardsTotalCount,p=a.pageStatus,_=a.searchParams,f=Object(o.c)((function(e){var a;return null===(a=e.login.userData)||void 0===a?void 0:a._id})),g=Object(z.h)().packId;s!==g&&e(mt({cardsPack_id:g}));var b=Object(n.useCallback)((function(a){e(ot(a))}),[]),h=Object(n.useCallback)((function(a,t){e(it({question:a,answer:t}))}),[]),v=Object(n.useCallback)((function(a,t,n){e(lt({question:t,_id:a,answer:n}))}),[]),k=Object(n.useCallback)((function(a){e(pt({page:a}))}),[]),E=Object(n.useCallback)((function(a){e(_t({pageCount:a}))}),[]),w=Object(n.useCallback)((function(a,t,n){e(ft({cardQuestion:a,min:t,max:n}))}),[]),C=Object(n.useCallback)((function(a){e(gt({sortCards:a}))}),[]);return Object(n.useEffect)((function(){e(st({}))}),[u,d,_,s]),s&&t&&"idle"!==p?r.a.createElement($a,{cards:t,page:u,owner:c===f,min:i,max:l,pageCount:d,searchParams:_,cardsTotalCount:m,createCard:h,deleteCard:b,updateCard:v,changePage:k,setSortColumn:C,changePageCount:E,setSearchParams:w,pageStatus:p}):r.a.createElement(je,null)})),ht=t(45),vt=t.n(ht),kt=function(){var e=Object(o.c)((function(e){return e.login.isLoggedSuccess})),a=Object(z.g)();return r.a.createElement("div",{className:vt.a.wrap},r.a.createElement("h2",{className:vt.a.title},"404"),r.a.createElement("h3",{className:vt.a.subtitle},"Sorry, the page not found..."),r.a.createElement(b,{btnName:"Go back",btnType:"green",onClick:function(){e?a.push("/profile"):a.push("/login")}}))},Et=t(16),wt=t.n(Et),Ct=["1","2","3","4","5"],xt=r.a.memo((function(e){var a=e.card,t=e.isLoading,c=e.gradeCard,s=e.onNext,o=Object(n.useState)(!1),i=Object(Ie.a)(o,2),l=i[0],u=i[1],d=function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(a._id,t);case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:wt.a.practice},r.a.createElement("div",{className:wt.a.practice__container},r.a.createElement("div",{className:wt.a.card},r.a.createElement("div",{style:l?{transform:"rotateX(180deg)"}:{},className:wt.a.card__inner},r.a.createElement("div",{className:wt.a.card__front,onClick:function(){return u(!0)}},r.a.createElement("div",{className:wt.a.card__text},r.a.createElement("div",null,a.question))),r.a.createElement("div",{className:wt.a.card__back},r.a.createElement("div",{className:wt.a.card__text,onClick:function(){return u(!1)}},r.a.createElement("div",null,a.answer)),r.a.createElement("div",{className:wt.a.card__back_bottom},Ct.map((function(e,a){return r.a.createElement(b,{onClick:function(){return d(a+1)},key:"grade-"+a,disabled:t,btnName:e})})),r.a.createElement("div",{className:wt.a.card__next_btn,onClick:function(){s(),u(!1)}},"next")))))))})),Pt=Object(A.b)("practice/getPracticeCards",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c,s,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,r=t.getState,c=r().practice.cardsPack_id,e.prev=2,e.next=5,at({cardsPack_id:c,pageCount:200});case 5:return s=e.sent,e.abrupt("return",{cards:s.data.cards,cardsTotalCount:s.data.cardsTotalCount});case 9:return e.prev=9,e.t0=e.catch(2),o=e.t0,e.abrupt("return",n(o.response?o.response.data.error:"unknown error"));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a,t){return e.apply(this,arguments)}}()),yt=Object(A.b)("practice/updateGrade",function(){var e=Object(w.a)(E.a.mark((function e(a,t){var n,r,c,s,o,i,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rejectWithValue,e.prev=1,e.next=4,ct(a);case 4:return r=e.sent,c=r.data.updatedGrade,s=c.card_id,o=c.grade,i=c.shots,e.abrupt("return",{card_id:s,grade:o,shots:i});case 9:return e.prev=9,e.t0=e.catch(1),l=e.t0,e.abrupt("return",n(l.response?l.response.data.error:"unknown error"));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a,t){return e.apply(this,arguments)}}()),Ot=Object(A.c)({name:"practice",initialState:{cardsPack_id:"",cards:[],cardsTotalCount:0,pageStatus:"idle",cardIsLoading:!1,errorText:""},reducers:{setPracticePackId:function(e,a){e.cardsPack_id=a.payload.cardsPack_id}},extraReducers:function(e){e.addCase(Pt.pending,(function(e,a){e.pageStatus="loading"})).addCase(Pt.fulfilled,(function(e,a){e.cards=a.payload.cards,e.cardsTotalCount=a.payload.cardsTotalCount,e.pageStatus="succeeded"})).addCase(Pt.rejected,(function(e,a){a.payload&&(e.pageStatus="failed",e.errorText=a.payload)})).addCase(yt.pending,(function(e,a){e.pageStatus="loading",e.cardIsLoading=!0})).addCase(yt.fulfilled,(function(e,a){var t=e.cards.find((function(e){return e._id===a.payload.card_id}));t&&(t.grade=a.payload.grade,t.shots=a.payload.shots),e.pageStatus="succeeded",e.cardIsLoading=!1})).addCase(yt.rejected,(function(e,a){a.payload&&(e.pageStatus="failed",e.errorText=a.payload)}))}}),jt=Ot.actions.setPracticePackId,St=function(e){var a=e.reduce((function(e,a){return e+(6-a.grade)*(6-a.grade)}),0),t=Math.random()*a,n=e.reduce((function(e,a,n){var r=e.sum+(6-a.grade)*(6-a.grade);return{sum:r,id:r<t?n:e.id}}),{sum:0,id:-1});return e[n.id+1]},Nt=r.a.memo((function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.practice})),t=a.cards,c=a.cardsPack_id,s=a.cardIsLoading,i=Object(n.useState)(null),l=Object(Ie.a)(i,2),u=l[0],d=l[1],m=Object(z.h)().packId;c!==m&&e(jt({cardsPack_id:m}));var p=Object(n.useCallback)(function(){var a=Object(w.a)(E.a.mark((function a(t,n){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(yt({card_id:t,grade:n}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),[]),_=Object(n.useCallback)((function(){t.length&&setTimeout(d,300,St(t))}),[t]);return Object(n.useEffect)((function(){return e(Pt()),function(){return d(null)}}),[c]),Object(n.useEffect)((function(){t.length&&setTimeout(d,300,St(t))}),[t]),(null===u||void 0===u?void 0:u.cardsPack_id)!==m?r.a.createElement(je,null):r.a.createElement(xt,{card:u,onNext:_,gradeCard:p,isLoading:s})})),Tt=function(){return r.a.createElement(z.d,null,r.a.createElement(z.b,{path:"/profile",render:function(){return r.a.createElement(Se,null,r.a.createElement($,null))}}),r.a.createElement(z.b,{path:"/login",render:function(){return r.a.createElement(se,null)}}),r.a.createElement(z.b,{path:"/register",render:function(){return r.a.createElement(me,null)}}),r.a.createElement(z.b,{path:"/restore",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(z.b,{path:"/newPassword/:token",render:function(){return r.a.createElement(Pe,null)}}),r.a.createElement(z.b,{path:"/packs",render:function(){return r.a.createElement(Se,null,r.a.createElement(Ua,null))}}),r.a.createElement(z.b,{path:"/cards/:packId",render:function(){return r.a.createElement(Se,null,r.a.createElement(bt,null))}}),r.a.createElement(z.b,{path:"/learn/:packId",render:function(){return r.a.createElement(Se,null,r.a.createElement(Nt,null))}}),r.a.createElement(z.b,{exact:!0,path:"/",render:function(){return r.a.createElement(Se,null,r.a.createElement($,null))}}),r.a.createElement(z.b,{path:"*",render:function(){return r.a.createElement(kt,null)}}))},At=function(){return r.a.createElement("div",{className:Q.a.main},r.a.createElement(Z,null),r.a.createElement(Tt,null))},Lt=function(){Object(o.b)();return r.a.createElement("div",{className:"App"},r.a.createElement(At,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Rt=t(30),It=Object(Ga.c)({login:B.reducer,register:de.reducer,restorePassword:be.reducer,newPassword:xe.reducer,packs:Ia.reducer,cards:ut.reducer,app:R.reducer,practice:Ot.reducer}),Vt=Object(A.a)({reducer:It,middleware:function(e){return e().prepend(Rt.a)}});s.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:Vt},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Lt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[79,1,2]]]);
//# sourceMappingURL=main.9db9e3b0.chunk.js.map