(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports={login:"Login_login__wZFJO",login__container:"Login_login__container__2RiFi",login__form:"Login_login__form__1oQF8",login__inputs:"Login_login__inputs__ltC67",login__checkbox:"Login_login__checkbox__3DmST",login__buttons:"Login_login__buttons__vdiUC",loading:"Login_loading__31U9z",checkbox:"Login_checkbox__DfSwd",infoTextRed:"Login_infoTextRed__1QnOh"}},function(e,t,a){e.exports={practice:"Practice_practice__1lW-o",practice__container:"Practice_practice__container__2vbk_",practice__title:"Practice_practice__title__1Pa1D",card:"Practice_card__1fHzN",card__inner:"Practice_card__inner__3I_Qa",card__front:"Practice_card__front__3nePh",card__back:"Practice_card__back__3-eua",card__next_btn:"Practice_card__next_btn__2CDSY",card__text:"Practice_card__text__1Cekt"}},,function(e,t,a){e.exports={restore:"Restore_restore__Qt9OF",restore__container:"Restore_restore__container__DbDYU",restore__form:"Restore_restore__form__1RfxB",restore__inputs:"Restore_restore__inputs__AIHLA",restore__buttons:"Restore_restore__buttons__3URYh",infoTextGreen:"Restore_infoTextGreen__3SE_5",infoTextRed:"Restore_infoTextRed__1H9hi",loading:"Restore_loading__xj32h"}},function(e,t,a){e.exports={newPassword:"NewPassword_newPassword__3DqU1",newPassword__container:"NewPassword_newPassword__container__m-yCZ",newPassword__form:"NewPassword_newPassword__form__2OlrG",newPassword__inputs:"NewPassword_newPassword__inputs__34B_D",newPassword__buttons:"NewPassword_newPassword__buttons__11RvK",infoTextRed:"NewPassword_infoTextRed__3ZAHA",infoTextGreen:"NewPassword_infoTextGreen__1mFv-",loading:"NewPassword_loading__3hwTp"}},,function(e,t,a){e.exports={register:"Register_register__2OoZ1",register__container:"Register_register__container__20Y9Z",register__form:"Register_register__form__tCvBa",register__inputs:"Register_register__inputs__WISn5",register__buttons:"Register_register__buttons__1xdWp",register__error:"Register_register__error__1lW52",register__loading:"Register_register__loading__2Href"}},,,function(e,t,a){e.exports={modal:"Modal_modal__1HKqi",modalContent:"Modal_modalContent__3u9Ne",modalContentActive:"Modal_modalContentActive__3sorC",active:"Modal_active__EvCwF"}},function(e,t,a){e.exports={button:"GeneralBTN_button__313Ge",green:"GeneralBTN_green__S8XQZ",red:"GeneralBTN_red__zHUK5"}},,,function(e,t,a){e.exports={input:"Input_input__2b9yi",input__label:"Input_input__label__1lDak",input__elem:"Input_input__elem__2Zzrh",input__error:"Input_input__error__2PMc0",inputs__error_text:"Input_inputs__error_text__3FrbP"}},function(e,t,a){e.exports={doubleRange:"Slider_doubleRange__FWpuu",rangeNum:"Slider_rangeNum__3-whB",range:"Slider_range__2pAqR",range2:"Slider_range2__1YSEn"}},,function(e,t,a){e.exports={profile:"Profile_profile__1-5kW",profile__container:"Profile_profile__container__32E_8",profile__title:"Profile_profile__title__184h-",profile__info:"Profile_profile__info__205Db",profile__buttons:"Profile_profile__buttons__ZYrOS"}},function(e,t,a){e.exports={packs:"Packs_packs__4Z6yr",packs__container:"Packs_packs__container__10omq",packs__title:"Packs_packs__title__2-FHM"}},function(e,t,a){e.exports={table:"Table_table__2tyvk",table__loading:"Table_table__loading__qsfzN",table__row_header:"Table_table__row_header__3I7da",table__row_data:"Table_table__row_data__3i-oQ"}},function(e,t,a){e.exports={packs:"Cards_packs__167TP",packs__container:"Cards_packs__container__1nr1B",packs__title:"Cards_packs__title__1LFQ8"}},,,,,,,function(e,t,a){e.exports={logOut:"Nav_logOut__2whTu",logIn:"Nav_logIn__3jg9I",links:"Nav_links__2xOKb"}},function(e,t,a){e.exports={paginator:"Paginator_paginator__2-To7",leftBlock:"Paginator_leftBlock__2JUGx",rightBlock:"Paginator_rightBlock__2ATkU"}},function(e,t,a){e.exports={container:"ColumnSorting_container__zEKkb",up:"ColumnSorting_up__2wXZ2",down:"ColumnSorting_down__204t9"}},function(e,t,a){e.exports={wrap:"PageNotFound_wrap__20qaz",title:"PageNotFound_title__1japc",subtitle:"PageNotFound_subtitle__1u3wU"}},,,function(e,t,a){e.exports={navItem:"NavItem_navItem__3DieS",active:"NavItem_active___rzAL"}},,,,function(e,t,a){e.exports={button:"Button_button__ir3Eb",green:"Button_green__3fh93",red:"Button_red__1bozl"}},,function(e,t,a){e.exports={container:"Preloader_container__2_C5R",ldsFacebook:"Preloader_ldsFacebook__RYldd"}},function(e,t,a){e.exports={uniSearch:"Search_uniSearch__2Iavf",slider:"Search_slider__1Od3x"}},function(e,t,a){e.exports={button:"TableButton_button__imyMp",green:"TableButton_green__3URIo",red:"TableButton_red__2SmU_"}},,,,,,,,,,,function(e,t,a){e.exports={main:"Main_main__2rISc"}},,,function(e,t,a){e.exports={questionModal:"QuestionModal_questionModal__cV3J1"}},function(e,t,a){e.exports={inputModal:"OneInputModal_inputModal__30rtM"}},function(e,t,a){e.exports=a.p+"static/media/Pencil-Outline.042251b4.svg"},function(e,t,a){e.exports=a.p+"static/media/Folder-Outline.bbf08363.svg"},function(e,t,a){e.exports=a.p+"static/media/Fitness_Fill.5812c2c9.svg"},function(e,t,a){e.exports=a.p+"static/media/Trash-Outline.d76ce237.svg"},function(e,t,a){e.exports={inputModal:"ThreeInputModal_inputModal__39AW4"}},,function(e,t,a){e.exports=a(108)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(36),o=a.n(s),i=(a(82),a(83),a(1)),l=a(2),u=a.n(l),d=a(4),m=a(3),_=a(27),p=a.n(_),E=p.a.create({baseURL:"http://localhost:7542/2.0",withCredentials:!0}),f=function(){return E.post("/auth/me")},g=function(e){return E.post("/auth/login",e)},b=function(){return E.delete("/auth/me")},S=function(e){return E.post("/auth/set-new-password",e)},h=function(e){return E.post("/auth/register",e)},v=function(e){return E.post("/auth/forgot",{email:e,from:"admin",message:'<div style="background-color: lime; padding: 15px">\n                    password recovery link: \n                    <a href="https://osbelkz.github.io/cards#/newPassword/$token$"> \n                    link</a>\n                </div>'})},w={isLoading:!1,isLoggedSuccess:!1,error:""},k=function(e){return{type:"login/SET-VALUE-IS-LOADING",isLoading:e}},O=function(e){return{type:"login/SET-VALUE-IS-LOGGED-SUCCESS",isLoggedSuccess:e}},C=function(e){return{type:"login/SET-ERROR-TEXT",error:e}};!function(e){e.SET_APP_ERROR="App/SET_APP_ERROR",e.SET_INIT_APP="App/SET_INIT_APP"}(n||(n={}));var T,P={error:"",initApp:"idle"},N=function(e){return{type:n.SET_APP_ERROR,payload:{error:e}}},A=function(e){return{type:n.SET_INIT_APP,payload:{initApp:e}}};!function(e){e.SET_USER="Profile/SET_USER"}(T||(T={}));var x,y={userData:null},j=function(e){return{type:T.SET_USER,payload:{userData:e}}},R=a(8),L=a(47),I=a.n(L),G=function(e){var t=e.path,a=e.title;return c.a.createElement(R.b,{to:t,className:I.a.navItem,activeClassName:I.a.active},a)},D=a(41),M=a.n(D),U=a(22),F=a(51),V=a.n(F),H=c.a.memo((function(e){var t=e.btnType,a=e.btnName,n=Object(U.a)(e,["btnType","btnName"]),r="".concat(V.a.button," ").concat(V.a[t]);return c.a.createElement("button",Object.assign({className:r},n),a)})),q=function(){return c.a.createElement("nav",{className:M.a.logOut},c.a.createElement(G,{path:"/login",title:"Login"}),c.a.createElement(G,{path:"/register",title:"Registration"}))},B=function(e){var t=e.logout;return c.a.createElement("nav",{className:M.a.logIn},c.a.createElement("div",{className:M.a.links},c.a.createElement(G,{path:"/profile",title:"Profile"}),c.a.createElement(G,{path:"/packs",title:"Packs"})),c.a.createElement(H,{onClick:t,btnName:"Logout",btnType:"red",style:{margin:"10px"}}))},K=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.profile.userData})),a=Object(r.useCallback)((function(){e(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(A("loading")),t(N(""));try{b(),t(j(null)),t(O(!1)),t(A("succeeded"))}catch(a){t(A("failed")),t(C(a.response?a.response.data.error:"unknown error"))}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);return t?c.a.createElement(B,{logout:a}):c.a.createElement(q,null)},Z=a(66),Q=a.n(Z),Y=a(5),W=a(31),X=a.n(W),z=c.a.memo((function(e){var t=e.userData;return c.a.createElement("div",{className:X.a.profile},c.a.createElement("div",{className:X.a.profile__container},c.a.createElement("div",{className:X.a.profile__title},c.a.createElement("h3",null,"Profile page")),c.a.createElement("div",{className:X.a.profile__info},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Id:"),c.a.createElement("td",null,t._id)),c.a.createElement("tr",null,c.a.createElement("th",null,"Username:"),c.a.createElement("td",null,t.name)),c.a.createElement("tr",null,c.a.createElement("th",null,"Email:"),c.a.createElement("td",null,t.email)),c.a.createElement("tr",null,c.a.createElement("th",null,"Added:"),c.a.createElement("td",null,t.created)),c.a.createElement("tr",null,c.a.createElement("th",null,"Packs of cards:"),c.a.createElement("td",null,t.publicCardPacksCount))))),c.a.createElement("h4",null,"Would you like change your password? Go here ",c.a.createElement(G,{path:"/restore",title:"Restore password"}))))})),J=function(){var e=Object(i.c)((function(e){return e.profile.userData}));return e?c.a.createElement(z,{userData:e}):c.a.createElement("div",null)},$=a(15),ee=a.n($),te=a(28),ae=a.n(te),ne=c.a.memo((function(e){var t=e.label,a=e.errorCondition,n=e.errorText,r=Object(U.a)(e,["label","errorCondition","errorText"]);return c.a.createElement("div",{className:ae.a.input},c.a.createElement("p",{className:ae.a.input__label},t),c.a.createElement("input",Object.assign({className:"".concat(ae.a.input__elem," ").concat(a?ae.a.input__error:"")},r)),a?c.a.createElement("div",{className:ae.a.inputs__error_text},n):null)})),re=a(13),ce=c.a.memo((function(e){var t=e.error,a=e.isLoading,n=e.handleOnSubmit,r=(e.isLoggedSuccess,Object(re.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required!",e.password?e.password.length<7&&(t.password="Too short password, min 7 symbols"):t.password="Required!",t},onSubmit:function(e){n(e.email,e.password,e.rememberMe)}}));return c.a.createElement("div",{className:ee.a.login},c.a.createElement("div",{className:ee.a.login__container},c.a.createElement("form",{className:ee.a.login__form,onSubmit:r.handleSubmit},c.a.createElement("div",{className:ee.a.login__title},c.a.createElement("h3",null,"Login page")),c.a.createElement("div",{className:ee.a.login__inputs},c.a.createElement(ne,Object.assign({label:"Email",placeholder:"Please, put your email",errorCondition:!!r.errors.email&&r.touched.email,errorText:r.errors.email},r.getFieldProps("email"))),c.a.createElement(ne,Object.assign({label:"Password",type:"password",placeholder:"Please, put your password",errorCondition:!!r.errors.password&&r.touched.password,errorText:r.errors.password},r.getFieldProps("password"))),c.a.createElement("div",{className:ee.a.login__checkbox},c.a.createElement("input",Object.assign({id:"remember",className:ee.a.checkbox,type:"checkbox",checked:r.values.rememberMe},r.getFieldProps("rememberMe"))),c.a.createElement("label",{htmlFor:"remember"},"remember me"))),c.a.createElement("div",{className:ee.a.login__buttons},c.a.createElement(H,{type:"submit",btnName:"Login",disabled:!r.isValid||a||!r.values.email,btnType:"green"}),c.a.createElement(H,{btnName:"Reset",type:"reset",onClick:function(){return r.resetForm()}})),c.a.createElement(G,{path:"/restore",title:"Forgot your password?"}),t&&c.a.createElement("div",{className:ee.a.infoTextRed},t),a&&c.a.createElement("div",{className:ee.a.loading},"...Loading"))))})),se=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.login})),a=t.isLoggedSuccess,n=t.isLoading,s=t.error,o=Object(r.useCallback)((function(t,a,n){e(function(e,t,a){return function(n){n(k(!0)),n(C("")),g({email:e,password:t,rememberMe:a}).then((function(e){n(j(Object(m.a)({},e.data))),n(A("succeeded")),n(O(!0)),n(k(!1))})).catch((function(e){n(k(!1));var t=e.response?e.response.data.error:e.message+", more details in the console";n(C(t)),setTimeout(n,5e3,C(""))}))}}(t,a,n))}),[]);return a?c.a.createElement(Y.a,{to:"/profile"}):c.a.createElement(ce,{isLoading:n,isLoggedSuccess:a,error:s,handleOnSubmit:o})},oe=a(21),ie=a.n(oe),le=c.a.memo((function(e){var t=e.status,a=e.error,n=e.onSubmit,r=Object(re.a)({initialValues:{email:"",password:"",password2:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",(!e.password||e.password.length<7)&&(t.password="Must be 7 or more characters"),e.password!==e.password2&&(t.password2="Passwords does not match"),t},onSubmit:function(e){n({email:e.email,password:e.password})}});return c.a.createElement("div",{className:ie.a.register},c.a.createElement("div",{className:ie.a.register__container},c.a.createElement("form",{className:ie.a.register__form,onSubmit:r.handleSubmit},c.a.createElement("div",{className:ie.a.register__title},c.a.createElement("h3",null,"Registration")),c.a.createElement("div",{className:ie.a.register__inputs},c.a.createElement(ne,Object.assign({label:"Email",errorCondition:!!r.errors.email&&r.touched.email,placeholder:"email",errorText:r.errors.email},r.getFieldProps("email"))),c.a.createElement(ne,Object.assign({label:"Password",errorCondition:!!r.errors.password&&r.touched.password,type:"password",placeholder:"password",errorText:r.errors.password},r.getFieldProps("password"))),c.a.createElement(ne,Object.assign({label:"Repeat password",errorCondition:!!r.errors.password2&&r.touched.password2,type:"password",errorText:r.errors.password2,placeholder:"confirm password"},r.getFieldProps("password2")))),c.a.createElement("div",{className:ie.a.register__buttons},c.a.createElement(H,{btnName:"Join",btnType:"green",type:"submit",disabled:!r.isValid||"loading"===t||!r.values.email}),c.a.createElement(H,{btnName:"Reset",type:"reset",onClick:function(){return r.resetForm()}})),c.a.createElement(G,{path:"/login",title:"Login"}),a&&c.a.createElement("div",{className:ie.a.register__error},a),"loading"===t&&c.a.createElement("div",{className:ie.a.register__loading},"...Loading"))))}));!function(e){e.SET_ERROR="SET_ERROR",e.SET_STATUS="SET_STATUS"}(x||(x={}));var ue={error:"",status:"idle"},de=function(e){return{type:x.SET_ERROR,payload:{error:e}}},me=function(e){return{type:x.SET_STATUS,payload:{status:e}}},_e=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.register})),a=t.error,n=t.status,s=Object(r.useCallback)((function(t){var a;e((a=t,function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(me("loading")),t(de("")),e.prev=2,e.next=5,h(a);case 5:e.sent,t(me("succeeded")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),t(de(e.t0.response?e.t0.response.data.error:"unknown error")),t(me("failed")),setTimeout(t,5e3,de(""));case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);return"succeeded"===n?c.a.createElement(Y.a,{to:"/login"}):c.a.createElement(le,{onSubmit:s,error:a,status:n})},pe=a(18),Ee=a.n(pe),fe=c.a.memo((function(e){var t=e.handleOnSubmit,a=e.isLoading,n=e.isSentSuccess,r=e.textAfterRequest,s=Object(re.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Field is required!",t},onSubmit:function(e){t(e.email)}});return c.a.createElement("div",{className:Ee.a.restore},c.a.createElement("div",{className:Ee.a.restore__container},c.a.createElement("form",{className:Ee.a.restore__form,onSubmit:s.handleSubmit},c.a.createElement("div",{className:Ee.a.restore__title},c.a.createElement("h3",null,"Restore password")),c.a.createElement("div",{className:Ee.a.restore__inputs},c.a.createElement(ne,Object.assign({label:"Email",placeholder:"Please, put your email",errorCondition:!!s.errors.email&&s.touched.email,errorText:s.errors.email},s.getFieldProps("email")))),c.a.createElement("div",{className:Ee.a.restore__buttons},c.a.createElement(H,{type:"submit",btnName:"Send email",disabled:!s.isValid||a||!s.values.email,btnType:"green"}),c.a.createElement(H,{btnName:"Reset",type:"reset",onClick:function(){return s.resetForm()}})),c.a.createElement(G,{path:"/login",title:"Login"}),r&&c.a.createElement("div",{className:n?Ee.a.infoTextGreen:Ee.a.infoTextRed},r),a&&c.a.createElement("div",{className:Ee.a.loading},"...Loading"))))})),ge={isSentSuccess:!1,textAfterRequest:"",isLoading:!1},be=function(e){return{type:"restore/SET-VALUE-IS-SENT-SUCCESS",value:e}},Se=function(e){return{type:"restore/SET-TEXT-AFTER-REQUEST",textAfterRequest:e}},he=function(e){return{type:"restore/SET-VALUE-IS-LOADING",isLoading:e}},ve=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.restorePassword})),a=t.textAfterRequest,n=t.isLoading,s=t.isSentSuccess,o=Object(r.useCallback)((function(t){e(function(e){return function(t){t(he(!0)),v(e).then((function(e){t(be(!0)),t(Se(e.data.info)),t(he(!1))})).catch((function(e){t(Se(e.response.data.error)),t(he(!1)),setTimeout(t,5e3,Se(""))}))}}(t))}),[]);return c.a.createElement(fe,{textAfterRequest:a,isSentSuccess:s,handleOnSubmit:o,isLoading:n})},we=a(19),ke=a.n(we),Oe=c.a.memo((function(e){var t=e.isLoading,a=e.handleOnSubmit,n=e.error,r=e.isOk,s=e.isSetNewPassword,o=Object(Y.h)().token,i=Object(re.a)({initialValues:{password1:"",password2:""},validate:function(e){var t={};return e.password1?e.password1.length<8&&(t.password1="Too short password, min 8 symbols"):t.password1="Field is required!",e.password2?e.password2.length<8?t.password2="Too short password, min 8 symbols":e.password1!==e.password2&&(t.password2="Both fields must be equal!"):t.password2="Field is required!",t},onSubmit:function(e){a(e.password1,o)}});return c.a.createElement("div",{className:ke.a.newPassword},c.a.createElement("div",{className:ke.a.newPassword__container},c.a.createElement("form",{className:ke.a.newPassword__form,onSubmit:i.handleSubmit},c.a.createElement("div",{className:ke.a.newPassword__title},c.a.createElement("h3",null,"New password page")),c.a.createElement("div",{className:ke.a.newPassword__inputs},c.a.createElement(ne,Object.assign({label:"New password",placeholder:"Please, put new password",errorCondition:!!i.errors.password1&&i.touched.password1,errorText:i.errors.password1},i.getFieldProps("password1"))),c.a.createElement(ne,Object.assign({label:"Repeat new password",placeholder:"Put new password again",errorCondition:!!i.errors.password2&&i.touched.password2,errorText:i.errors.password2},i.getFieldProps("password2")))),c.a.createElement("div",{className:ke.a.newPassword__buttons},c.a.createElement(H,{type:"submit",btnName:"Set new password",disabled:!i.isValid||t,btnType:"green"}),c.a.createElement(H,{btnName:"Reset",type:"reset",onClick:function(){return i.resetForm()}})),c.a.createElement(G,{path:"/login",title:"Login"})),!s&&n?c.a.createElement("div",{className:ke.a.infoTextRed},n):"",s&&r?c.a.createElement("div",{className:ke.a.infoTextGreen},r):"",t&&c.a.createElement("div",{className:ke.a.loading},"...Loading")))})),Ce={isSetNewPassword:!1,error:"",isOk:"",isLoading:!1},Te=function(e){return{type:"newPassword/SET-VALUE-IS-SET-NEW-PASSWORD",value:e}},Pe=function(e){return{type:"newPassword/SET-ERROR-TEXT",error:e}},Ne=function(e){return{type:"newPassword/SET-VALUE-IS-OK",text:e}},Ae=function(e){return{type:"restore/SET-VALUE-IS-LOADING",isLoading:e}},xe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.newPassword})),a=t.isSetNewPassword,n=t.isLoading,s=t.error,o=t.isOk,l=Object(r.useCallback)((function(t,a){e(function(e,t){return function(a){a(Ae(!0)),S({password:e,resetPasswordToken:t}).then((function(e){a(Te(!0)),a(Ne(e.data.info)),a(Ae(!1))})).catch((function(e){a(Pe(e.response.data.error)),a(Ae(!1)),setTimeout(a,5e3,Pe(""))}))}}(t,a))}),[]);return a?c.a.createElement(Y.a,{to:"/login"}):c.a.createElement(Oe,{isSetNewPassword:a,error:s,handleOnSubmit:l,isOk:o,isLoading:n})},ye=a(53),je=a.n(ye);function Re(){return c.a.createElement("div",{className:je.a.container},c.a.createElement("div",{className:je.a.ldsFacebook},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}var Le,Ie=function(e){var t=Object(i.b)(),a=Object(i.c)((function(e){return e.app.initApp})),n=Object(i.c)((function(e){return e.login.isLoggedSuccess}));return Object(r.useEffect)((function(){"idle"!==a||n||t(function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A("loading")),t(N("")),e.prev=2,e.next=5,f();case 5:n=e.sent,t(j(n.data)),t(O(!0)),t(A("succeeded")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t(A("failed")),t(C(e.t0.response?e.t0.response.data.error:"unknown error"));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}())}),[a,n]),"loading"===a||"idle"===a?c.a.createElement(Re,null):n?c.a.createElement("div",null,e.children):c.a.createElement(Y.a,{to:"/login"})},Ge=a(32),De=a.n(Ge),Me=a(33),Ue=a.n(Me),Fe=c.a.memo((function(e){var t=e.model,a=e.data,n=e.pageStatus;return c.a.createElement("table",{className:"".concat(Ue.a.table," ").concat("loading"===n?Ue.a.table__loading:"")},c.a.createElement("thead",null,c.a.createElement("tr",{className:Ue.a.table__row_header},t.map((function(e,t){return e.title(t)})))),c.a.createElement("tbody",null,a.map((function(e,a){return c.a.createElement("tr",{className:Ue.a.table__row_data,key:e._id},t.map((function(t,n){return t.render(e,n,a)})))}))))})),Ve=a(7),He=a(54),qe=a.n(He),Be=a(29),Ke=a.n(Be),Ze=c.a.memo((function(e){var t=e.min/(e.maxValue/100)-2.5,a=e.max/(e.maxValue/100)-2.5;return c.a.createElement("div",{className:Ke.a.doubleRange},c.a.createElement("div",null,c.a.createElement("div",{className:Ke.a.rangeNum,style:{left:"".concat(t,"%")}},e.min),c.a.createElement("input",{type:"range",min:e.minValue,max:e.maxValue,step:e.stepValue,value:e.min,className:Ke.a.range,onChange:function(t){var a=+t.currentTarget.value;e.setMin(a),e.max<=a&&e.setMax(a)},disabled:"loading"===e.pageStatus})),c.a.createElement("div",{className:Ke.a.rangeNum,style:{left:"".concat(a,"%")}},e.max),c.a.createElement("input",{type:"range",min:e.minValue,max:e.maxValue,step:e.stepValue,value:e.max,className:Ke.a.range,onChange:function(t){var a=+t.currentTarget.value;e.setMax(a),e.min>=a&&e.setMin(a)},disabled:"loading"===e.pageStatus}))})),Qe=c.a.memo((function(e){var t=e.name,a=e.minValue,n=e.maxValue,s=e.label,o=e.stepValue,i=e.setSearchParams,l=e.pageStatus,u=Object(r.useState)(t),d=Object(Ve.a)(u,2),m=d[0],_=d[1],p=Object(r.useState)(a),E=Object(Ve.a)(p,2),f=E[0],g=E[1],b=Object(r.useState)(n),S=Object(Ve.a)(b,2),h=S[0],v=S[1],w=Object(r.useCallback)((function(e){_(e.currentTarget.value)}),[]),k=Object(r.useCallback)((function(){i(m,f,h)}),[m,h,f]);return Object(r.useEffect)((function(){v(n)}),[n]),c.a.createElement("div",{className:qe.a.uniSearch},c.a.createElement("h3",null,s),c.a.createElement(ne,{value:m,onChange:w,disabled:"loading"===l}),c.a.createElement("div",{className:qe.a.slider},c.a.createElement(Ze,{setMin:g,setMax:v,min:f,max:h,minValue:a,maxValue:n,stepValue:o,pageStatus:l})),c.a.createElement(H,{btnName:"Search",onClick:k,disabled:"loading"===l}))})),Ye=a(42),We=a.n(Ye),Xe=c.a.memo((function(e){var t=e.currentPage,a=e.pageCount,n=e.changePageCount,s=e.changePage,o=e.itemsName,i=e.itemsTotalCount,l=e.pageStatus,u=Object(r.useState)(t),d=Object(Ve.a)(u,2),m=d[0],_=d[1],p=Math.ceil(i/a),E=function(){m<1?(s(1),_(1)):m>p?(s(p),_(p)):s(m)};return c.a.createElement("div",{className:We.a.paginator},c.a.createElement("div",{className:We.a.leftBlock},"Total ".concat(o,": ").concat(i,". ").concat(o," per page:"),c.a.createElement("select",{onChange:function(e){var t=+e.currentTarget.value;n(t)},value:a,disabled:"loading"===l},c.a.createElement("option",null,"10"),c.a.createElement("option",null,"20"),c.a.createElement("option",null,"50"),c.a.createElement("option",null,"100"))),c.a.createElement("div",{className:We.a.rightBlock},c.a.createElement(H,{btnName:"Prev",onClick:function(){s(m-1),_(m-1)},disabled:t<2||"loading"===l}),"Page: ",m<1,c.a.createElement(ne,{type:"number",value:m,step:1,min:1,max:p,onChange:function(e){_(+e.currentTarget.value)},onBlur:E,onKeyPress:function(e){"Enter"===e.key&&E()},disabled:"loading"===l}),"of ",p,c.a.createElement(H,{btnName:"Next",onClick:function(){s(m+1),_(m+1)},disabled:t===p||"loading"===l})))})),ze=a(43),Je=a.n(ze),$e=c.a.memo((function(e){var t=e.onClick,a=e.pageStatus;return c.a.createElement("div",{className:Je.a.container},c.a.createElement(H,{btnName:"\u21d1",className:Je.a.up,onClick:function(){t(1)},disabled:"loading"===a}),c.a.createElement(H,{btnName:"\u21d3",className:Je.a.down,onClick:function(){t(0)},disabled:"loading"===a}))})),et=a(40),tt=a.n(et),at=a(69),nt=a.n(at),rt=a(24),ct=a.n(rt),st=function(e){var t=e.active,a=e.setActive,n=e.children;return c.a.createElement("div",{className:t?"".concat(ct.a.modal," ").concat(ct.a.active):ct.a.modal,onClick:function(){return a(!1)}},c.a.createElement("div",{className:t?"".concat(ct.a.modalContent," ").concat(ct.a.modalContentActive):ct.a.modalContent,onClick:function(e){return e.stopPropagation()}},n))},ot=function(e){var t=e.text,a=e.setAnswerY,n=e.setAnswerN,r=e.active,s=e.setActive;return c.a.createElement("div",{className:nt.a.questionModal},c.a.createElement(st,{active:r,setActive:s},t,c.a.createElement(H,{btnName:"Yes",onClick:function(){a(!0),s(!1)},style:{right:"10px"}}),c.a.createElement(H,{btnName:"No",onClick:function(){n(!1),s(!1)},style:{left:"10px"}})))},it=function(e){var t=e.text,a=e.setAnswerY,n=e.setAnswerN,r=e.activate,s=e.setActivate;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot,{text:t,setAnswerY:a,setAnswerN:n,active:r,setActive:s}))},lt=a(70),ut=a.n(lt),dt=function(e){var t=e.title,a=e.placeholder,n=e.value,r=e.active,s=e.setActive,o=e.handleOnSubmit,i=Object(re.a)({initialValues:{itemsName:n||""},onSubmit:function(e){o(e.itemsName),s(!1)}});return c.a.createElement(st,{active:r,setActive:s},c.a.createElement(H,{btnName:"X",onClick:function(){return s(!1)},style:{position:"absolute",width:"30px",height:"30px",padding:"5px 5px",right:"10px",top:"10px"}}),c.a.createElement("form",{onSubmit:i.handleSubmit,className:ut.a.inputModal},c.a.createElement("h3",null,t),c.a.createElement("textarea",Object.assign({placeholder:a},i.getFieldProps("itemsName"))),c.a.createElement("div",null,c.a.createElement(H,{btnName:"Save",btnType:"green",type:"submit"}),c.a.createElement(H,{type:"reset",btnName:"Reset",style:{marginLeft:"10px"},onClick:function(){return i.setValues({itemsName:""})}}))))},mt=a(71),_t=a.n(mt),pt=a(72),Et=a.n(pt),ft=a(73),gt=a.n(ft),bt=a(74),St=a.n(bt),ht=a(25),vt=a.n(ht),wt=c.a.memo((function(e){var t=e.btnType,a=Object(U.a)(e,["btnType"]),n="",r="";switch(t){case"edit":n=_t.a,r="".concat(vt.a.button);break;case"open":n=Et.a,r="".concat(vt.a.button);break;case"train":n=gt.a,r="".concat(vt.a.button," ").concat(vt.a.green);break;case"remove":n=St.a,r="".concat(vt.a.button," ").concat(vt.a.red)}return c.a.createElement("button",Object.assign({className:r},a),c.a.createElement("img",{src:n,alt:""}))})),kt=c.a.memo((function(e){var t=e.updatePack,a=e.choosePack,n=e.startLearn,s=e.deletePack,o=e.owner,i=e.pageStatus,l=e.pack,u=Object(r.useState)(!1),d=Object(Ve.a)(u,2),m=d[0],_=d[1],p=Object(r.useState)(!1),E=Object(Ve.a)(p,2),f=E[0],g=E[1],b=l._id,S=l.cardsCount,h=l.user_id,v=l.name;return c.a.createElement(c.a.Fragment,null,c.a.createElement(wt,{btnType:"edit",onClick:function(){return _(!0)},disabled:!o||"loading"===i}),c.a.createElement(wt,{btnType:"open",onClick:function(){return a(b,h)},disabled:"loading"===i}),c.a.createElement(wt,{btnType:"train",onClick:function(){return n(b,h)},disabled:"loading"===i||0===S}),c.a.createElement(wt,{btnType:"remove",onClick:function(){return g(!0)},disabled:!o||"loading"===i}),o&&c.a.createElement(c.a.Fragment,null,c.a.createElement(dt,{value:v,placeholder:"pack's name",title:"Edit pack's name",active:m,setActive:_,handleOnSubmit:function(e){return t(e,b)}}),c.a.createElement(it,{text:"Delete this pack?",activate:f,setActivate:g,setAnswerY:function(){return s(b)},setAnswerN:function(){}})))})),Ot=a(55),Ct=a.n(Ot),Tt=c.a.memo((function(e){var t=e.btnType,a=e.btnName,n=Object(U.a)(e,["btnType","btnName"]),r="".concat(Ct.a.button," ").concat(Ct.a[t]);return c.a.createElement("button",Object.assign({className:r},n),a)})),Pt=c.a.memo((function(e){var t=e.createPack,a=e.pageStatus,n=Object(r.useState)(!1),s=Object(Ve.a)(n,2),o=s[0],i=s[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Tt,{btnName:"+",btnType:"green",onClick:function(){return i(!0)},disabled:"loading"===a}),c.a.createElement(dt,{title:"Create pack",placeholder:"please type a pack name",active:o,setActive:i,handleOnSubmit:t}))})),Nt=c.a.memo((function(e){var t=e.packs,a=e.userId,n=e.page,s=e.setPacksSortColumn,o=e.pageCount,i=e.cardPacksTotalCount,l=e.createPack,u=e.deletePack,d=e.updatePack,m=e.changePage,_=e.choosePack,p=e.changePageCount,E=e.setSearchParams,f=e.pageStatus,g=e.min,b=e.max,S=e.searchParams.packName,h=e.startLearn,v=Object(r.useCallback)((function(e){return s(e+"cardsCount")}),[]),w=Object(r.useMemo)((function(){return[{title:function(e){return c.a.createElement("th",{style:{width:"30%",paddingLeft:"20px"},key:e},c.a.createElement("div",null,"Name"))},render:function(e,t){return c.a.createElement("td",{style:{width:"30%",paddingLeft:"20px"},key:t},e.name)}},{title:function(e){return c.a.createElement("th",{style:{width:"15%"},key:e},c.a.createElement("div",null,"Added"))},render:function(e,t){return c.a.createElement("td",{style:{width:"15%"},key:t},tt()(e.created).format("Do MMM YY"))}},{title:function(e){return c.a.createElement("th",{style:{width:"10%",display:"flex",alignItems:"center"},key:e},c.a.createElement("div",null,"Cards count"),c.a.createElement($e,{onClick:v,pageStatus:f}))},render:function(e,t){return c.a.createElement("td",{style:{width:"10%"},key:t},e.cardsCount)}},{title:function(e){return c.a.createElement("th",{style:{width:"25%"},key:e},"Owner")},render:function(e,t){return c.a.createElement("td",{style:{width:"25%"},key:t},e.user_name)}},{title:function(e){return c.a.createElement("th",{style:{width:"15%",paddingRight:"20px",textAlign:"right"},key:e},c.a.createElement(Pt,{createPack:l,pageStatus:f}))},render:function(e,t){return c.a.createElement("td",{style:{width:"15%",textAlign:"right",minHeight:"100%",display:"flex"},key:t},c.a.createElement(kt,{updatePack:d,choosePack:_,startLearn:h,deletePack:u,owner:a===e.user_id,pack:e,pageStatus:f}))}}]}),[f]);return c.a.createElement("div",{className:De.a.packs},c.a.createElement("div",{className:De.a.packs__container},c.a.createElement("div",{className:De.a.packs__title},c.a.createElement("h3",null,"Packs")),c.a.createElement("div",{className:De.a.packs__body},c.a.createElement(Qe,{name:S,label:"Search",minValue:g||0,maxValue:b||0,stepValue:1,pageStatus:f,setSearchParams:E}),c.a.createElement(Fe,{data:t,model:w,pageStatus:f}),c.a.createElement(Xe,{currentPage:n,itemsTotalCount:i,pageCount:o,changePage:m,changePageCount:p,pageStatus:f,itemsName:"packs"}))))})),At=p.a.create({baseURL:"http://localhost:7542/2.0",withCredentials:!0}),xt=function(e){return At.get("/cards/pack",{params:e})},yt=function(e){return At.post("/cards/pack",{cardsPack:e})},jt=function(e){return At.delete("cards/pack",{params:{id:e}})},Rt=function(e){return At.put("/cards/pack",{cardsPack:e})};!function(e){e.CHANGE_PAGE="packs/CHANGE_PAGE",e.CHANGE_PAGE_COUNT="packs/CHANGE_PAGE_COUNT",e.SET_TOTAL_COUNT="packs/SET_TOTAL_COUNT",e.SET_PACKS="packs/SET_PACKS",e.SET_SEARCH_NAME="packs/SET_SEARCH_NAME",e.SET_SEARCH_PARAMS="packs/SET_SEARCH_PARAMS",e.SET_IS_LOADING="packs/SET_IS_LOADING",e.SET_SORT_PACKS="packs/SET_SORT_PACKS"}(Le||(Le={}));var Lt,It={packs:[],cardPacksTotalCount:0,page:1,pageCount:10,min:0,max:0,pageStatus:"idle",searchParams:{packName:"",sortPacks:"",min:0,max:0}},Gt=function(e){return{type:Le.CHANGE_PAGE,payload:{page:e}}},Dt=function(e,t,a,n,r){return{type:Le.SET_PACKS,payload:{packs:e,cardPacksTotalCount:t,min:a,max:n,pageStatus:r}}},Mt=function(e){return{type:Le.SET_IS_LOADING,payload:{pageStatus:e}}},Ut=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a,n){var r,c,s,o,i,l,d,m,_;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().packs,c=r.page,s=r.pageCount,o=r.searchParams,i=o.packName,l=o.min,d=o.max,m=o.sortPacks,a(Mt("loading")),t.prev=2,t.next=5,xt({page:e||c,pageCount:s,packName:i,min:l,max:d,sortPacks:m});case 5:_=t.sent,a(Dt(_.data.cardPacks,_.data.cardPacksTotalCount,_.data.minCardsCount,_.data.maxCardsCount,"succeeded")),e&&a(Gt(e)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),alert(t.t0.response.data.error),a(Mt("failed"));case 14:return t.prev=14,t.finish(14);case 16:case"end":return t.stop()}}),t,null,[[2,10,14,16]])})));return function(e,a){return t.apply(this,arguments)}}()},Ft=p.a.create({baseURL:"http://localhost:7542/2.0",withCredentials:!0}),Vt=function(e){return Ft.get("/cards/card",{params:e})},Ht=function(e){return Ft.post("/cards/card",{card:e})},qt=function(e){return Ft.delete("/cards/card",{params:{id:e}})},Bt=function(e){return Ft.put("/cards/card",{card:e})},Kt=function(e){return Ft.put("/cards/grade",e)};!function(e){e.CHANGE_PAGE="cards/CHANGE_PAGE",e.CHANGE_PAGE_COUNT="cards/CHANGE_PAGE_COUNT",e.SET_CARDS="cards/SET_CARDS",e.SET_SEARCH_NAME="cards/SET_SEARCH_NAME",e.SET_SEARCH_PARAMS="cards/SET_SEARCH_PARAMS",e.SET_IS_LOADING="cards/SET_IS_LOADING",e.SET_PACK_ID="cards/SET_PACK_ID",e.SET_SORT_COLUMN="cards/SET_SORT_COLUMN"}(Lt||(Lt={}));var Zt,Qt={cardsPack_id:"",cardsOwner:"",cards:[],cardsTotalCount:0,page:1,pageCount:10,minGrade:0,maxGrade:0,pageStatus:"idle",searchParams:{cardQuestion:"",cardAnswer:"",sortCards:"",min:0,max:0}},Yt=function(e){return{type:Lt.CHANGE_PAGE,payload:{page:e}}},Wt=function(e){return{type:Lt.SET_IS_LOADING,payload:{pageStatus:e}}},Xt=function(e,t){return{type:Lt.SET_PACK_ID,payload:{cardsPack_id:e,cardsOwner:t}}},zt=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a,n){var r,c,s,o,i,l,d,m,_,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().cards,c=r.cardsPack_id,s=r.page,o=r.pageCount,i=r.searchParams,l=i.cardQuestion,d=i.min,m=i.max,_=i.sortCards,a(Wt("loading")),t.prev=2,t.next=5,Vt({cardsPack_id:c,page:e||s,pageCount:o,cardQuestion:l,min:d,max:m,sortCards:_});case 5:p=t.sent,a((u=p.data.cards,E=p.data.cardsTotalCount,f=p.data.minGrade,g=p.data.maxGrade,b="succeeded",{type:Lt.SET_CARDS,payload:{cards:u,cardsTotalCount:E,minGrade:f,maxGrade:g,pageStatus:b}})),e&&a(Yt(e)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a(Wt("failed"));case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}var u,E,f,g,b}),t,null,[[2,10,13,15]])})));return function(e,a){return t.apply(this,arguments)}}()},Jt=c.a.memo((function(){var e=Object(Y.g)(),t=Object(i.b)(),a=Object(i.c)((function(e){return e.packs})),n=a.packs,s=a.min,o=a.max,l=a.page,m=a.pageCount,_=a.cardPacksTotalCount,p=a.pageStatus,E=a.searchParams,f=Object(i.c)((function(e){var t;return null===(t=e.profile.userData)||void 0===t?void 0:t._id})),g=Object(r.useCallback)((function(e){t(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Mt("loading")),t.prev=1,t.next=4,jt(e);case 4:return t.sent,t.next=7,a(Ut());case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),alert(t.t0.response.data.error),a(Mt("failed"));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]),b=Object(r.useCallback)((function(e){t(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Mt("loading")),t.prev=1,t.next=4,yt({name:e});case 4:return t.sent,t.next=7,a(Ut(1));case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),alert(t.t0.response.data.error),a(Mt("failed"));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]),S=Object(r.useCallback)((function(e,a){t(function(e,t){return function(){var a=Object(d.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Mt("loading")),a.prev=1,a.next=4,Rt({name:e,_id:t});case 4:return a.sent,a.next=7,n(Ut(1));case 7:a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),alert(a.t0.response.data.error),n(Mt("failed"));case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(e,a))}),[]),h=Object(r.useCallback)((function(e){t(Gt(e))}),[]),v=Object(r.useCallback)((function(e){t(function(e){return{type:Le.CHANGE_PAGE_COUNT,payload:{pageCount:e}}}(e))}),[]),w=Object(r.useCallback)((function(e,a,n){t(function(e,t,a){return{type:Le.SET_SEARCH_PARAMS,payload:{packName:e,min:t,max:a}}}(e,a,n))}),[]),k=Object(r.useCallback)((function(e){t(function(e){return{type:Le.SET_SORT_PACKS,payload:{sortPacks:e}}}(e))}),[]),O=Object(r.useCallback)((function(a,n){t(Xt(a,n)),e.push("/cards/".concat(a))}),[]),C=Object(r.useCallback)((function(a,n){t(Xt(a,n)),e.push("/learn/".concat(a))}),[]);return Object(r.useEffect)((function(){t(Ut())}),[l,m,E]),n&&"idle"!==p?c.a.createElement(Nt,{packs:n,userId:f,page:l,min:s,max:o,pageCount:m,searchParams:E,cardPacksTotalCount:_,createPack:b,deletePack:g,updatePack:S,changePage:h,choosePack:O,startLearn:C,setPacksSortColumn:k,changePageCount:v,setSearchParams:w,pageStatus:p}):c.a.createElement(Re,null)})),$t=a(34),ea=a.n($t),ta=a(75),aa=a.n(ta),na=function(e){var t=e.title,a=e.firstInputValue,n=e.secondInputValue,r=e.thirdInputValue,s=e.active,o=e.setActive,i=e.handleOnSubmit;console.log(a,n,r);var l=Object(re.a)({initialValues:{question:a||"",answer:n||"",comment:r||""},onSubmit:function(e,t){var a=t.resetForm;i(e.question,e.answer,e.comment),a(),o(!1)}});return c.a.createElement(st,{active:s,setActive:o},c.a.createElement(H,{btnName:"X",onClick:function(){return o(!1)},style:{position:"absolute",width:"30px",height:"30px",padding:"5px 5px",right:"10px",top:"10px"}}),c.a.createElement("form",{onSubmit:l.handleSubmit,className:aa.a.inputModal},c.a.createElement("h3",null,t),c.a.createElement("textarea",Object.assign({placeholder:"question"},l.getFieldProps("question"))),c.a.createElement("textarea",Object.assign({placeholder:"answer"},l.getFieldProps("answer"))),c.a.createElement("textarea",Object.assign({placeholder:"comment"},l.getFieldProps("comment"))),c.a.createElement("div",null,c.a.createElement(H,{btnName:"Save",btnType:"green",type:"submit"}),c.a.createElement(H,{btnName:"Reset",type:"reset",style:{marginLeft:"10px"},onClick:function(){return l.setValues({question:"",answer:"",comment:""})}}))))},ra=c.a.memo((function(e){var t=e.deleteCard,a=e.updateCard,n=e.owner,s=e.pageStatus,o=e.card,i=Object(r.useState)(!1),l=Object(Ve.a)(i,2),u=l[0],d=l[1],m=Object(r.useState)(!1),_=Object(Ve.a)(m,2),p=_[0],E=_[1],f=o._id,g=o.question,b=o.answer,S=o.comments;return c.a.createElement(c.a.Fragment,null,c.a.createElement(wt,{btnType:"edit",onClick:function(){return E(!0)},disabled:!n||"loading"===s}),c.a.createElement(wt,{btnType:"remove",onClick:function(){return d(!0)},disabled:!n||"loading"===s}),n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(it,{text:"Delete this card?",activate:u,setActivate:d,setAnswerY:function(){return t(f)},setAnswerN:function(){}}),c.a.createElement(na,{title:"Edit card's params",handleOnSubmit:function(e,t,n){return a(f,e,t)},setActive:E,firstInputValue:g,secondInputValue:b,thirdInputValue:S,active:p})))})),ca=function(e){var t=e.createCard,a=e.pageStatus,n=e.owner,s=Object(r.useState)(!1),o=Object(Ve.a)(s,2),i=o[0],l=o[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Tt,{btnName:"+",btnType:"green",onClick:function(){return l(!0)},disabled:!n||"loading"===a}),n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(na,{title:"Create card",handleOnSubmit:t,setActive:l,active:i})))},sa=c.a.memo((function(e){var t=e.cards,a=e.page,n=e.owner,s=e.setSortColumn,o=e.pageCount,i=e.cardsTotalCount,l=e.createCard,u=e.deleteCard,d=e.updateCard,m=e.changePage,_=e.changePageCount,p=e.setSearchParams,E=e.pageStatus,f=e.min,g=e.max,b=e.searchParams.cardQuestion,S=Object(r.useCallback)((function(e){return s(e+"grade")}),[]),h=Object(r.useMemo)((function(){return[{title:function(e){return c.a.createElement("th",{style:{width:"30%",paddingLeft:"20px"},key:e},c.a.createElement("span",null,"Question"))},render:function(e,t){return c.a.createElement("td",{style:{width:"30%",paddingLeft:"20px"},key:t},c.a.createElement("p",null,e.question))}},{title:function(e){return c.a.createElement("th",{style:{width:"30%"},key:e},"Answer")},render:function(e,t){return c.a.createElement("td",{style:{width:"30%"},key:t},e.answer)}},{title:function(e){return c.a.createElement("th",{style:{width:"15%"},key:e},c.a.createElement("span",null,"Added"))},render:function(e,t){return c.a.createElement("td",{style:{width:"15%"},key:t},tt()(e.created).format("Do MMM YY"))}},{title:function(e){return c.a.createElement("th",{style:{width:"15%",display:"flex",alignItems:"center"},key:e},c.a.createElement("div",null,"Grade"),c.a.createElement($e,{onClick:S,pageStatus:E}))},render:function(e,t){return c.a.createElement("td",{style:{width:"15%"},key:t},e.grade.toFixed(2))}},{title:function(e){return c.a.createElement("th",{style:{width:"10%",paddingRight:"20px",textAlign:"right"},key:e},c.a.createElement(ca,{createCard:l,pageStatus:E,owner:n}))},render:function(e,t){return c.a.createElement("td",{style:{width:"15%",textAlign:"right",minHeight:"100%",display:"flex"},key:t},c.a.createElement(ra,{deleteCard:u,updateCard:d,owner:n,pageStatus:E,card:e}))}}]}),[E,n]);return c.a.createElement("div",{className:ea.a.packs},c.a.createElement("div",{className:ea.a.packs__container},c.a.createElement("div",{className:ea.a.packs__title},c.a.createElement("h3",null,"Cards")),c.a.createElement("div",{className:ea.a.packs__body},c.a.createElement(Qe,{name:b,label:"Search",minValue:f,maxValue:g,stepValue:1,pageStatus:E,setSearchParams:p}),c.a.createElement(Fe,{data:t,model:h,pageStatus:E}),c.a.createElement(Xe,{currentPage:a,itemsTotalCount:i,pageCount:o,changePage:m,changePageCount:_,pageStatus:E,itemsName:"cards"}))))})),oa=c.a.memo((function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.cards})),a=t.cards,n=t.cardsOwner,s=t.cardsPack_id,o=t.minGrade,l=t.maxGrade,_=t.page,p=t.pageCount,E=t.cardsTotalCount,f=t.pageStatus,g=t.searchParams,b=Object(i.c)((function(e){var t;return null===(t=e.profile.userData)||void 0===t?void 0:t._id})),S=Object(Y.h)().packId;s!==S&&e(Xt(S,""));var h=Object(r.useCallback)((function(t){e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Wt("loading")),t.prev=1,t.next=4,qt(e);case 4:t.sent,a(zt()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(Wt("failed"));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]),v=Object(r.useCallback)((function(t,a){var n;e((n={question:t,answer:a},function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Wt("loading")),r=a().cards.cardsPack_id,e.prev=2,e.next=5,Ht(Object(m.a)({},n,{cardsPack_id:r}));case 5:e.sent,t(zt(1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t(Wt("failed"));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()))}),[]),w=Object(r.useCallback)((function(t,a,n){var r;e((r={question:a,_id:t,answer:n},function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Wt("loading")),e.prev=1,e.next=4,Bt(r);case 4:e.sent,t(zt(1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Wt("failed"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[]),k=Object(r.useCallback)((function(t){e(Yt(t))}),[]),O=Object(r.useCallback)((function(t){e(function(e){return{type:Lt.CHANGE_PAGE_COUNT,payload:{pageCount:e}}}(t))}),[]),C=Object(r.useCallback)((function(t,a,n){e(function(e,t,a){return{type:Lt.SET_SEARCH_PARAMS,payload:{cardQuestion:e,min:t,max:a}}}(t,a,n))}),[]),T=Object(r.useCallback)((function(t){e(function(e){return{type:Lt.SET_SORT_COLUMN,payload:{sortCards:e}}}(t))}),[]);return Object(r.useEffect)((function(){e(zt())}),[_,p,g,s]),s&&a&&"idle"!==f?c.a.createElement(sa,{cards:a,page:_,owner:n===b,min:o,max:l,pageCount:p,searchParams:g,cardsTotalCount:E,createCard:v,deleteCard:h,updateCard:w,changePage:k,setSortColumn:T,changePageCount:O,setSearchParams:C,pageStatus:f}):c.a.createElement(Re,null)})),ia=a(44),la=a.n(ia),ua=function(){var e=Object(i.c)((function(e){return e.login.isLoggedSuccess})),t=Object(Y.g)();return c.a.createElement("div",{className:la.a.wrap},c.a.createElement("h2",{className:la.a.title},"404"),c.a.createElement("h3",{className:la.a.subtitle},"Sorry, the page not found..."),c.a.createElement(H,{btnName:"Go back",btnType:"green",onClick:function(){e?t.push("/profile"):t.push("/login")}}))},da=a(16),ma=a.n(da),_a=["1","2","3","4","5"],pa=c.a.memo((function(e){var t=e.card,a=e.isLoading,n=e.gradeCard,s=e.onNext,o=Object(r.useState)(!1),i=Object(Ve.a)(o,2),l=i[0],m=i[1],_=function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t._id,a);case 2:m(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:ma.a.practice},c.a.createElement("div",{className:ma.a.practice__container},c.a.createElement("div",{className:ma.a.card},c.a.createElement("div",{style:l?{transform:"rotateX(180deg)"}:{},className:ma.a.card__inner},c.a.createElement("div",{className:ma.a.card__front,onClick:function(){return m(!0)}},c.a.createElement("div",{className:ma.a.card__text},c.a.createElement("p",null,t.question))),c.a.createElement("div",{className:ma.a.card__back},c.a.createElement("div",{className:ma.a.card__text,onClick:function(){return m(!1)}},c.a.createElement("p",null,t.answer)),c.a.createElement("div",{className:ma.a.card__back_bottom},_a.map((function(e,t){return c.a.createElement(H,{onClick:function(){return _(t+1)},key:"grade-"+t,disabled:a,btnName:e})})),c.a.createElement("div",{className:ma.a.card__next_btn,onClick:function(){s(),m(!1)}},"next")))))))}));!function(e){e.SET_CARDS="practice/SET_CARDS",e.SET_IS_LOADING="practice/SET_IS_LOADING",e.SET_PACK_ID="practice/SET_PACK_ID",e.SET_CARD_IS_LOADING="practice/SET_CARD_IS_LOADING",e.UPDATE_GRADE="practice/UPDATE_GRADE"}(Zt||(Zt={}));var Ea={cardsPack_id:"",cards:[],cardsTotalCount:0,pageStatus:"idle",cardIsLoading:!1},fa=function(e){return{type:Zt.SET_IS_LOADING,payload:{pageStatus:e}}},ga=function(e){return{type:Zt.SET_CARD_IS_LOADING,payload:{cardIsLoading:e}}},ba=function(e,t,a){return{type:Zt.UPDATE_GRADE,payload:{card_id:e,grade:t,shots:a}}},Sa=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n,r,c,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ga(!0)),a(fa("loading")),t.prev=2,t.next=5,Kt(e);case 5:n=t.sent,r=n.data.updatedGrade,c=r.card_id,s=r.grade,o=r.shots,a(ba(c,s,o)),a(ga(!1)),a(fa("succeeded")),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(2);case 14:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},ha=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),a=Math.random()*t,n=e.reduce((function(e,t,n){var r=e.sum+(6-t.grade)*(6-t.grade);return{sum:r,id:r<a?n:e.id}}),{sum:0,id:-1});return e[n.id+1]},va=c.a.memo((function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.practice})),a=t.cards,n=t.cardsPack_id,s=t.cardIsLoading,o=Object(r.useState)(null),l=Object(Ve.a)(o,2),m=l[0],_=l[1],p=Object(Y.h)().packId;n!==p&&e(function(e){return{type:Zt.SET_PACK_ID,payload:{cardsPack_id:e}}}(p));var E=Object(r.useCallback)(function(){var t=Object(d.a)(u.a.mark((function t(a,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Sa({card_id:a,grade:n}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),[]),f=Object(r.useCallback)((function(){a.length&&setTimeout(_,300,ha(a))}),[a]);return Object(r.useEffect)((function(){return e(function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().practice.cardsPack_id,t(fa("loading")),e.prev=2,e.next=5,Vt({cardsPack_id:n,pageCount:200});case 5:r=e.sent,t((c=r.data.cards,s=r.data.cardsTotalCount,o="succeeded",{type:Zt.SET_CARDS,payload:{cards:c,cardsTotalCount:s,pageStatus:o}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t(fa("failed"));case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}var c,s,o}),e,null,[[2,9,12,14]])})));return function(t,a){return e.apply(this,arguments)}}()),function(){return _(null)}}),[n]),Object(r.useEffect)((function(){a.length&&setTimeout(_,300,ha(a))}),[a]),n===p&&m?c.a.createElement(pa,{card:m,onNext:f,gradeCard:E,isLoading:s}):c.a.createElement(Re,null)})),wa=function(){return c.a.createElement(Y.d,null,c.a.createElement(Y.b,{path:"/profile",render:function(){return c.a.createElement(Ie,null,c.a.createElement(J,null))}}),c.a.createElement(Y.b,{path:"/login",render:function(){return c.a.createElement(se,null)}}),c.a.createElement(Y.b,{path:"/register",render:function(){return c.a.createElement(_e,null)}}),c.a.createElement(Y.b,{path:"/restore",render:function(){return c.a.createElement(ve,null)}}),c.a.createElement(Y.b,{path:"/newPassword/:token",render:function(){return c.a.createElement(xe,null)}}),c.a.createElement(Y.b,{path:"/packs",render:function(){return c.a.createElement(Ie,null,c.a.createElement(Jt,null))}}),c.a.createElement(Y.b,{path:"/cards/:packId",render:function(){return c.a.createElement(Ie,null,c.a.createElement(oa,null))}}),c.a.createElement(Y.b,{path:"/learn/:packId",render:function(){return c.a.createElement(Ie,null,c.a.createElement(va,null))}}),c.a.createElement(Y.b,{exact:!0,path:"/",render:function(){return c.a.createElement(Ie,null,c.a.createElement(J,null))}}),c.a.createElement(Y.b,{path:"*",render:function(){return c.a.createElement(ua,null)}}))},ka=function(){return c.a.createElement("div",{className:Q.a.main},c.a.createElement(K,null),c.a.createElement(wa,null))},Oa=function(){Object(i.b)();return c.a.createElement("div",{className:"App"},c.a.createElement(ka,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ca=a(10),Ta=a(30),Pa=a(76),Na=Object(Ca.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-VALUE-IS-LOGGED-SUCCESS":return Object(m.a)({},e,{isLoggedSuccess:t.isLoggedSuccess});case"login/SET-VALUE-IS-LOADING":return Object(m.a)({},e,{isLoading:t.isLoading});case"login/SET-ERROR-TEXT":return Object(m.a)({},e,{error:t.error});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.SET_ERROR:case x.SET_STATUS:return Object(m.a)({},e,{},t.payload);default:return e}},restorePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"restore/SET-VALUE-IS-SENT-SUCCESS":return Object(m.a)({},e,{isSentSuccess:t.value});case"restore/SET-TEXT-AFTER-REQUEST":return Object(m.a)({},e,{textAfterRequest:t.textAfterRequest});case"restore/SET-VALUE-IS-LOADING":return Object(m.a)({},e,{isLoading:t.isLoading});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"newPassword/SET-VALUE-IS-SET-NEW-PASSWORD":return Object(m.a)({},e,{isSetNewPassword:t.value});case"newPassword/SET-ERROR-TEXT":return Object(m.a)({},e,{error:t.error});case"newPassword/SET-VALUE-IS-OK":return Object(m.a)({},e,{isOk:t.text});case"restore/SET-VALUE-IS-LOADING":return Object(m.a)({},e,{isLoading:t.isLoading});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_USER:return Object(m.a)({},e,{},t.payload);default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.CHANGE_PAGE:case Le.CHANGE_PAGE_COUNT:case Le.SET_TOTAL_COUNT:case Le.SET_PACKS:case Le.SET_IS_LOADING:return Object(m.a)({},e,{},t.payload);case Le.SET_SEARCH_NAME:return Object(m.a)({},e,{searchParams:Object(m.a)({},e.searchParams,{packName:t.payload.packName})});case Le.SET_SORT_PACKS:case Le.SET_SEARCH_PARAMS:return Object(m.a)({},e,{searchParams:Object(m.a)({},e.searchParams,{},t.payload)});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lt.CHANGE_PAGE:case Lt.CHANGE_PAGE_COUNT:case Lt.SET_IS_LOADING:case Lt.SET_PACK_ID:case Lt.SET_CARDS:return Object(m.a)({},e,{},t.payload);case Lt.SET_SEARCH_NAME:return Object(m.a)({},e,{searchParams:Object(m.a)({},e.searchParams,{cardQuestion:t.payload.question})});case Lt.SET_SEARCH_PARAMS:case Lt.SET_SORT_COLUMN:return Object(m.a)({},e,{searchParams:Object(m.a)({},e.searchParams,{},t.payload)});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_APP_ERROR:case n.SET_INIT_APP:return Object(m.a)({},e,{},t.payload);default:return e}},practice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt.SET_IS_LOADING:case Zt.SET_PACK_ID:case Zt.SET_CARDS:case Zt.SET_CARD_IS_LOADING:return Object(m.a)({},e,{},t.payload);case Zt.UPDATE_GRADE:return Object(m.a)({},e,{cards:e.cards.map((function(e){return e._id===t.payload.card_id?Object(m.a)({},e,{},t.payload):e}))});default:return e}}}),Aa=Object(Pa.a)({reducer:Na,middleware:function(e){return e().prepend(Ta.a)}});o.a.render(c.a.createElement(R.a,null,c.a.createElement(i.a,{store:Aa},c.a.createElement(c.a.StrictMode,null,c.a.createElement(Oa,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[77,1,2]]]);
//# sourceMappingURL=main.f663ceda.chunk.js.map